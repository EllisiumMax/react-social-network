(this["webpackJsonpreact-social-network"]=this["webpackJsonpreact-social-network"]||[]).push([[5],{103:function(e,t,a){e.exports={container:"Users_container__iuwYM",changePage:"Users_changePage__YkKaG",prevPage:"Users_prevPage__xwxAh",nextPage:"Users_nextPage__Y1DQT",inactive:"Users_inactive__hveiX",usersArea:"Users_usersArea__15cQa",wrapper:"Users_wrapper__2_7qC",avatar:"Users_avatar__qQIPI",photo:"Users_photo__3uU2C",btn:"Users_btn__2Hsx5",loading:"Users_loading__3TNnf",subcribe:"Users_subcribe__1z8kQ",unSubcribe:"Users_unSubcribe__7r4HU",infoWrapper:"Users_infoWrapper__T-b-2",name:"Users_name__Y6pTf",status:"Users_status__y2RXZ"}},104:function(e,t,a){e.exports={controlBtn:"Paginator_controlBtn__3uvcx",controlsArea:"Paginator_controlsArea__1aGqo",pages:"Paginator_pages__2qRwX",pageNumber:"Paginator_pageNumber__3tJsr",activePage:"Paginator_activePage__1O-gD"}},115:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a(17),s=a(18),c=a(21),o=a(20),u=a(25),i=a(1),l=a.n(i),b=a(10),g=a(13),P=a(58),j=a(103),d=a.n(j),_=a(56),p=a(14),h=a(99),f=a(104),v=a.n(f),m=a(0);var O=function(e){var t=e.totalCount,a=e.itemsPerPage,r=e.currentPage,n=e.loadPage,s=e.portionSize,c=void 0===s?10:s,o=Math.ceil(t/a),u=o/c,l=Array.from({length:o},(function(e,t){return t+1})),b=Object(i.useState)(1),g=Object(h.a)(b,2),P=g[0],j=g[1],d=Object(i.useState)(l.slice(0,c)),_=Object(h.a)(d,2),p=_[0],f=_[1];Object(i.useEffect)((function(){var e=Math.ceil(P*c);f(l.slice(e-c,e))}),[P]),Object(i.useEffect)((function(){f(l.slice(r-1,r+c-1)),j(Math.ceil(r/c))}),[r]);var O=p.map((function(e){return Object(m.jsx)("p",{className:r===e?v.a.activePage:v.a.pageNumber,onClick:function(){return n(e,r,a)},children:e})}));return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:v.a.controlsArea,children:[P<=1?null:Object(m.jsx)("button",{className:v.a.controlBtn,onClick:function(){j(--P)},children:"PREV"}),Object(m.jsx)("div",{className:v.a.pages,children:O}),P>=u?null:Object(m.jsx)("button",{className:v.a.controlBtn,onClick:function(){j(++P)},children:"NEXT"})]})})};function x(e){return e.users.map((function(t){return Object(m.jsxs)("div",{className:d.a.wrapper,children:[Object(m.jsxs)("div",{className:d.a.avatar,children:[Object(m.jsx)(p.b,{to:"profile/".concat(t.id),children:Object(m.jsx)("img",{className:d.a.photo,src:t.photos.small?t.photos.small:_.a,alt:"user avatar"})}),t.followed?Object(m.jsx)("button",{disabled:e.currentRequests.some((function(e){return e===t.id})),className:"".concat(d.a.btn," ").concat(d.a.unSubcribe),onClick:function(){e.unSubscribeRequest(t.id)},children:"UNSUBSCRIBE"}):Object(m.jsx)("button",{disabled:e.currentRequests.some((function(e){return e===t.id})),className:"".concat(d.a.btn," ").concat(d.a.subcribe),onClick:function(){e.subscribeRequest(t.id)},children:"SUBSCRIBE"})]}),Object(m.jsxs)("div",{className:d.a.infoWrapper,children:[Object(m.jsx)("p",{className:d.a.name,children:t.name}),t.status?Object(m.jsxs)("p",{className:d.a.status,children:["Status: ",t.status]}):null]})]},t.id)}))}var N=function(e){return Object(m.jsxs)("div",{children:[e.totalCount?Object(m.jsx)(O,{totalCount:e.totalCount,itemsPerPage:e.usersPerPage,currentPage:e.currentPage,loadPage:e.loadPage}):null,Object(m.jsxs)("div",{className:d.a.container,children:[Object(m.jsx)("button",{className:e.currentPage>1?"".concat(d.a.changePage," ").concat(d.a.prevPage):"".concat(d.a.changePage," ").concat(d.a.prevPage," ").concat(d.a.inactive),onClick:function(){return e.loadPrevPage(e.currentPage,e.usersPerPage)},children:"\xab"}),Object(m.jsx)("div",{className:d.a.usersArea,children:Object(m.jsx)(x,{users:e.users,subscribeRequest:e.subscribeRequest,unSubscribeRequest:e.unSubscribeRequest,currentRequests:e.currentRequests})}),Object(m.jsx)("button",{className:e.currentPage>=e.totalCount/e.usersPerPage?"".concat(d.a.changePage," ").concat(d.a.nextPage," ").concat(d.a.inactive):"".concat(d.a.changePage," ").concat(d.a.nextPage),onClick:function(){return e.loadNextPage(e.totalCount,e.usersPerPage,e.currentPage)},children:"\xbb"})]})]})},U=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).componentDidMount=function(){e.props.getUsers(e.props.currentPage,e.props.usersPerPage)},e}return Object(s.a)(a,[{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[this.props.isFetching?Object(m.jsx)(u.a,{}):null,Object(m.jsx)(N,Object(r.a)(Object(r.a)({},this.props),{},{users:this.props.users}))]})}}]),a}(l.a.Component);t.default=Object(g.compose)(Object(b.b)((function(e){return{users:e.usersPage.users,currentPage:e.usersPage.currentPage,totalCount:e.usersPage.totalCount,usersPerPage:e.usersPage.usersPerPage,isFetching:e.usersPage.isFetching,currentRequests:e.usersPage.currentRequests}}),{getUsers:P.b,loadPage:P.d,loadNextPage:P.c,loadPrevPage:P.e,subscribeRequest:P.f,unSubscribeRequest:P.g}))(U)},99:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(45);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,s=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(u){n=!0,s=u}finally{try{r||null==o.return||o.return()}finally{if(n)throw s}}return a}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=5.898e59b5.chunk.js.map