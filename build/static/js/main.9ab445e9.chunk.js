(this["webpackJsonpreact-social-network"]=this["webpackJsonpreact-social-network"]||[]).push([[0],{15:function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return u}));var s=function(e){return e.auth.isLogged},a=function(e){return e.auth.login},r=function(e){return e.auth.isFetching},c=function(e){return e.auth.errorCodes},o=function(e){return e.auth.errorMessages},i=function(e){return e.auth.captcha},u=function(e){return e.auth.id}},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p}));var s=n(3),a=n(5),r="LOGIN-REQ",c="SERVER-ERROR",o="CAPTCHA",i={isLogged:!1,id:null,login:null,email:null,messages:[],isFetching:!1,errorMessages:null,errorCodes:null,captcha:null};function u(e,t,n,s,a){return{type:"LOGIN-REQ",login:e,id:t,email:n,messages:s,isLogged:a}}function l(e,t){return{type:c,messages:e,code:t}}function f(){return function(e){return a.a.auth.authRequest().then((function(t){0===t.resultCode&&e(u(t.data.login,t.data.id,t.data.email,t.data.messages,!0))}))}}function d(e){return function(t){a.a.auth.login(e).then((function(e){0===e.resultCode?(f(),a.a.auth.authRequest().then((function(e){0===e.resultCode&&t(u(e.data.login,e.data.id,e.data.email,e.data.messages,!0))}))):10===e.resultCode?(t(l(e.messages,e.resultCode)),a.a.auth.getCaptcha().then((function(e){return t((n=e.url,{type:o,url:n}));var n}))):t(l(e.messages,e.resultCode))}))}}function p(){return function(e){a.a.auth.logout().then((function(t){0===t.resultCode&&e(u(null,null,null,[],!1))}))}}t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,n=Object(s.a)({},e);switch(t.type){case r:return n.isLogged=t.isLogged,n.login=t.login,n.id=t.id,n.email=t.email,n.messages=t.messages,n;case c:return n.errorMessages=t.messages,n.errorCodes=t.code,setTimeout((function(){n.errorMessages=n.errorCodes=null}),0),n;case o:return n.captcha=t.url,setTimeout((function(){n.captcha=n.errorMessages=n.errorCodes=null}),0),n;default:return e}}},22:function(e,t,n){e.exports={messageWrapper:"Message_messageWrapper__36R4N",user:"Message_user__-Ob5z",text:"Message_text__t46C2",time:"Message_time__2T9dj",self:"Message_self__1DcSV",anotherUser:"Message_anotherUser__HdIPS"}},23:function(e,t,n){e.exports={wrapper:"User_wrapper__1wFGK",container:"User_container__2D4vm",avatar:"User_avatar__2YDBq",active:"User_active__1bOFJ",newMessagesWrapper:"User_newMessagesWrapper__3NSI8",newMessage:"User_newMessage__Qnvzl",newMessagesCount:"User_newMessagesCount__2XWU0"}},24:function(e,t,n){e.exports={container:"Navbar_container__1_ue6",nav:"Navbar_nav__3UMRc",active:"Navbar_active__1KUtM"}},25:function(e,t,n){"use strict";n(1);var s=n.p+"static/media/loader.6aaaa7bc.svg",a=n(38),r=n.n(a),c=n(0);t.a=function(e){var t=e.fullscreen,n=void 0!==t&&t;return Object(c.jsx)("div",{className:r.a.loaderWrapper,children:Object(c.jsx)("img",{className:n?r.a.fullScreenLoader:r.a.loader,src:s,alt:"LOADING..."})})}},29:function(e,t,n){e.exports={header:"Header_header__1zvcz",logInOutWrapper:"Header_logInOutWrapper__3m6Os"}},33:function(e,t,n){"use strict";var s=n(3),a=n(17),r=n(18),c=n(21),o=n(20),i=n(1),u=n.n(i),l=n(10),f=n(4),d=n(15),p=n(0);function g(e){return{isLogged:Object(d.g)(e),id:Object(d.f)(e)}}t.a=function(e){var t=function(t){Object(c.a)(i,t);var n=Object(o.a)(i);function i(){return Object(a.a)(this,i),n.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isLogged?Object(p.jsx)(e,Object(s.a)({},this.props)):Object(p.jsx)(f.a,{to:"/login"})}}]),i}(u.a.Component);return Object(l.b)(g,{})(t)}},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return O}));var s=n(16),a=n(3),r=n(5),c="ADD-POST",o="SET-PROFILE-INFO",i="GET-STATUS",u="SET-STATUS",l="REQUEST-IS-FETCHING",f="UPPLOAD-PHOTO",d={profileInfo:{photos:{small:null,large:null}},status:"",posts:[{imgLink:"https://cdn.pixabay.com/photo/2018/03/31/06/31/dog-3277416__340.jpg",date:"03.02.2021 12:41",text:"Hello World",likes:"25",id:1},{imgLink:"https://cdn.pixabay.com/photo/2018/03/31/06/31/dog-3277416__340.jpg",date:"03.02.2021 12:44",text:"Hello React",likes:"125",id:2},{imgLink:"https://cdn.pixabay.com/photo/2018/03/31/06/31/dog-3277416__340.jpg",date:"03.02.2021 12:41",text:"Hello JavaScript",likes:"1125",id:3},{imgLink:"https://cdn.pixabay.com/photo/2018/03/31/06/31/dog-3277416__340.jpg",date:"03.02.2021 12:41",text:"Hello Web",likes:"23",id:4}],isFetching:!1};function p(e,t){return{type:c,post:e,date:t}}function g(e){return{type:"REQUEST-IS-FETCHING",fetching:e}}function j(e){return{type:u,status:e}}function b(e){return function(t){t(g(!0)),r.a.profile.loadProfileInfo(e).then((function(e){t({type:"SET-PROFILE-INFO",profileInfo:e}),t(g(!1))}))}}function h(e){return function(t){r.a.profile.getStatus(e).then((function(e){t({type:i,status:e})}))}}function m(e,t){return function(n){e!==t&&""!==t&&t.length<=300?r.a.profile.setStatus(t).then((function(e){0===e.resultCode&&n(j(t))})):n(j(e))}}function O(e){return function(t){r.a.profile.uploadPhoto(e).then((function(e){var n;0===e.resultCode&&t((n=e.data.photos,{type:f,small:n.small,large:n.large}))}))}}t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=Object(a.a)({},e);switch(n.profileInfo=Object(a.a)({},e.profileInfo),n.profileInfo.photos=Object(a.a)({},e.profileInfo.photos),n.posts=Object(s.a)(e.posts),t.type){case c:var r={imgLink:"https://cdn.pixabay.com/photo/2018/03/31/06/31/dog-3277416__340.jpg",date:t.date,text:t.post,likes:"0"};return n.posts.push(r),n;case o:return n.profileInfo=t.profileInfo,n;case l:return n.isFetching=t.fetching,n;case i:case u:return n.status=t.status,n;case f:return n.profileInfo.photos.small=t.small,n.profileInfo.photos.large=t.large,n;default:return e}}},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var s=n(16),a=n(3),r=n(5),c="ERROR-ON-SUBMIT",o="SENT-SUCESSFULLY",i="IS-FETCHING",u="HIDE-NOTIFICATIONS",l={messages:[],sentSucessfully:!1,isFetching:!1};function f(e){return{type:i,boolean:e}}function d(e){return function(t){t(f(!0)),r.a.settings.changeProfileInfo(e).then((function(e){var n;0===e.resultCode?t({type:o}):t((n=e.messages,{type:c,messages:n}))})).then((function(){t(f(!1)),window.setTimeout((function(){return t({type:u})}),5500)}))}}t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=Object(a.a)({},e);switch(n.messages=Object(s.a)(e.messages),t.type){case c:return n.messages=t.messages,n.sentSucessfully=!1,n;case o:return n.sentSucessfully=!0,n.messages=[],n;case i:return n.isFetching=t.boolean,n;case u:return n.sentSucessfully=!1,n.messages=[],n;default:return e}}},38:function(e,t,n){e.exports={loaderWrapper:"Loader_loaderWrapper__3XmWS",loader:"Loader_loader__1w7OH",fullScreenLoader:"Loader_fullScreenLoader__3H8A5"}},41:function(e,t,n){e.exports={loginName:"Login_loginName__1xOxy",loginBtn:"Login_loginBtn__WqQGl"}},44:function(e,t,n){e.exports={chat:"Chat_chat__3TtEy",inputWindow:"Chat_inputWindow__3Wr9T"}},5:function(e,t,n){"use strict";var s=n(3),a=n(60),r=n.n(a).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"7bc71dc4-bd30-40b8-a02a-666b7e04e450"}}),c={security:{},auth:{authRequest:function(){return r.get("auth/me").then((function(e){return e.data}))},login:function(e){return r.post("auth/login",e).then((function(e){return e.data}))},logout:function(){return r.delete("/auth/login").then((function(e){return e.data}))},getCaptcha:function(){return r.get("/security/get-captcha-url").then((function(e){return e.data}))}},users:{getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},loadPage:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},loadNextPage:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},loadPrevPage:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},subscribeRequest:function(e){return r.post("https://social-network.samuraijs.com/api/1.0/follow/".concat(e)).then((function(e){return e.data}))},uNsubscribeRequest:function(e){return r.delete("https://social-network.samuraijs.com/api/1.0/follow/".concat(e)).then((function(e){return e.data}))}},profile:{loadProfileInfo:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return r.get("profile/status/".concat(e)).then((function(e){return e.data}))},setStatus:function(e){return r.put("profile/status",{status:e}).then((function(e){return e.data}))},uploadPhoto:function(e){var t=new FormData;return t.append("image",e.files[0]),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}},messages:{startChating:function(e){return r.put("dialogs/".concat(e)).then((function(e){return e.data}))},getAllDialogs:function(){return r.get("dialogs/").then((function(e){return e.data}))},getMessages:function(e){return r.get("dialogs/".concat(e,"/messages")).then((function(e){return e.data}))},sendMessage:function(e,t){return r.post("dialogs/".concat(e,"/messages"),t).then((function(e){return e.data}))},checkMessageViewed:function(e){return r.get("dialogs/messages/".concat(e,"/viewed")).then((function(e){return e.data}))},markAsSpam:function(e){return r.post("dialogs/messages/".concat(e,"/spam")).then((function(e){return e.data}))},deleteMessageForMe:function(e){return r.delete("dialogs/messages/".concat(e)).then((function(e){return e.data}))},restoreMessage:function(e){return r.put("dialogs/messages/".concat(e,"/restore")).then((function(e){return e.data}))},filterMessagesByDate:function(e,t){return r.get("dialogs/".concat(e,"/messages/new?newerThen=").concat(t)).then((function(e){return e.data}))},listOfNewMessages:function(){return r.get("dialogs/messages/new/count").then((function(e){return e.data}))}},settings:{changeProfileInfo:function(e){return r.put("profile",Object(s.a)({},e)).then((function(e){return e.data}))}}};t.a=c},56:function(e,t,n){"use strict";t.a=n.p+"static/media/unknown-user.2a8085fe.svg"},57:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return c}));var s=function(e){return e.profilePage.profileInfo},a=function(e){return e.profilePage.posts},r=function(e){return e.profilePage.status},c=function(e){return e.profilePage.isFetching}},58:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return _})),n.d(t,"c",(function(){return I})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return N})),n.d(t,"g",(function(){return S}));var s=n(16),a=n(3),r=n(5),c="SET-USERS",o="SET-SUBSCRIBE",i="SET-UN-SUBSCRIBE",u="SET-TOTAL-USERS",l="SET-CURRENT-PAGE",f="REQUEST-IS-FETCHING",d="ADD-FOLLOW-UNFOLLOW-REQUEST",p="REMOVE-FOLLOW-UNFOLLOW-REQUEST",g={users:[],totalCount:0,usersPerPage:8,currentPage:1,isFetching:!0,currentRequests:[]};function j(e){return{type:c,users:e}}function b(e){return{type:u,totalCount:e}}function h(e){return{type:l,currentPage:e}}function m(e){return{type:f,isFetching:e}}function O(e){return{type:d,id:e}}function x(e){return{type:p,id:e}}function v(e,t){return function(n){n(m(!0)),r.a.users.getUsers(e,t).then((function(e){n(m(!1)),n(j(e.items)),n(b(e.totalCount))}))}}function _(e,t,n){return function(s){e!==t&&(s(m(!0)),r.a.users.loadPage(e,n).then((function(e){s(m(!1)),s(j(e.items)),s(b(e.totalCount))})),s(h(e)))}}function I(e,t,n){return function(s){var a=Math.ceil(e/t),c=n+1;c<=a&&(s(m(!0)),r.a.users.loadNextPage(c,t).then((function(e){s(m(!1)),s(j(e.items)),s(b(e.totalCount)),s(h(c))})))}}function y(e,t){return function(n){var s=e-1;s>=1&&(n(m(!0)),r.a.users.loadPrevPage(s,t).then((function(e){n(j(e.items)),n(b(e.totalCount)),n(m(!1)),n(h(s))})))}}function N(e){return function(t){t(O(e)),r.a.users.subscribeRequest(e).then((function(n){0===n.resultCode&&t({type:o,userID:e}),t(x(e))}))}}function S(e){return function(t){t(O(e)),r.a.users.uNsubscribeRequest(e).then((function(n){0===n.resultCode&&t({type:i,userID:e}),t(x(e))}))}}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=Object(a.a)({},e);switch(n.users=Object(s.a)(e.users),n.currentRequests=Object(s.a)(e.currentRequests),t.type){case c:return n.users=t.users,n;case o:return n.users.forEach((function(e){e.id==t.userID&&(e.followed=!0)})),n;case i:return n.users.forEach((function(e){e.id==t.userID&&(e.followed=!1)})),n;case u:return n.totalCount=t.totalCount,n;case l:return n.currentPage=t.currentPage,n;case f:return n.isFetching=t.isFetching,n;case d:return n.currentRequests.push(t.id),n;case p:return n.currentRequests=n.currentRequests.filter((function(e){return e!==t.id})),n;default:return e}}},61:function(e,t,n){e.exports={logout:"Logout_logout__1DQkS"}},62:function(e,t,n){e.exports={chatWrapper:"Messages_chatWrapper__tzRIL"}},63:function(e,t,n){e.exports={users:"UserList_users__2I2wg"}},66:function(e,t,n){"use strict";n.r(t);var s=n(3),a=n(33),r=n(1),c=n(10),o=n(13),i=n(15),u=n(34),l=n(57),f=n(37),d=n(25),p=n(8),g=n(7),j=n.n(g),b=n.p+"static/media/puff.be69e7a9.svg",h=n(0);var m=function(e){return e.profileInfo.fullName?Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:b,className:j.a.loading,alt:"request is loading",style:{display:"none"}}),Object(h.jsx)(p.b,{onSubmit:function(t){t.userId=e.id,e.changeProfileInfo(t),console.log(t)},render:function(t){var n=t.handleSubmit,s=t.submitting;return Object(h.jsx)("form",{onSubmit:n,children:Object(h.jsxs)("div",{className:j.a.mainWrapper,children:[Object(h.jsxs)("div",{className:"".concat(j.a.sectionContainer," ").concat(j.a.personalInfo),children:[Object(h.jsx)("h4",{className:j.a.sectionHeader,children:"Personal Info"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Full name: "}),Object(h.jsx)(p.a,{name:"fullName",component:"input",type:"text",defaultValue:e.profileInfo.fullName})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"About me: "}),Object(h.jsx)(p.a,{name:"aboutMe",component:"input",type:"text",defaultValue:e.profileInfo.aboutMe})]})]}),Object(h.jsxs)("div",{className:"".concat(j.a.sectionContainer," ").concat(j.a.jobInfo),children:[Object(h.jsx)("h4",{className:j.a.sectionHeader,children:"Job Information"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Looking for a job?"}),Object(h.jsx)(p.a,{name:"lookingForAJob",component:"input",type:"checkbox",defaultValue:e.profileInfo.lookingForAJob})]}),Object(h.jsxs)("div",{className:j.a.job,children:[Object(h.jsx)("label",{children:"Describe the job you are looking for: "}),Object(h.jsx)(p.a,{name:"lookingForAJobDescription",component:"input",type:"text",defaultValue:e.profileInfo.lookingForAJobDescription})]})]}),Object(h.jsxs)("div",{className:"".concat(j.a.sectionContainer," ").concat(j.a.contactsInfo),children:[Object(h.jsx)("h4",{className:j.a.sectionHeader,children:"Contacts"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"GitHub:"}),Object(h.jsx)(p.a,{name:"contacts.github",component:"input",type:"text",defaultValue:e.profileInfo.contacts.github})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Vkontakte:"}),Object(h.jsx)(p.a,{name:"contacts.vk",component:"input",type:"text",defaultValue:e.profileInfo.contacts.vk})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Facebook:"}),Object(h.jsx)(p.a,{name:"contacts.facebook",component:"input",type:"text",defaultValue:e.profileInfo.contacts.facebook})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Instagram:"}),Object(h.jsx)(p.a,{name:"contacts.instagram",component:"input",type:"text",defaultValue:e.profileInfo.contacts.instagram})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Twitter:"}),Object(h.jsx)(p.a,{name:"contacts.twitter",component:"input",type:"text",defaultValue:e.profileInfo.contacts.twitter})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Website:"}),Object(h.jsx)(p.a,{name:"contacts.website",component:"input",type:"text",defaultValue:e.profileInfo.contacts.website})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Youtube:"}),Object(h.jsx)(p.a,{name:"contacts.youtube",component:"input",type:"text",defaultValue:e.profileInfo.contacts.youtube})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Main Link:"}),Object(h.jsx)(p.a,{name:"contacts.mainLink",component:"input",type:"text",defaultValue:e.profileInfo.contacts.mainLink})]})]}),e.isFetching?Object(h.jsx)("img",{src:b,className:j.a.loading,alt:"request is loading"}):Object(h.jsx)("button",{type:"submit",disabled:s,className:j.a.submit,children:"Submit"}),e.sentSucessfully?Object(h.jsx)("div",{className:"".concat(j.a.responseResult," ").concat(j.a.sucess),children:"Profile info has been updated"}):null,e.messages.length&&e.messages.length>=1?Object(h.jsxs)("div",{className:"".concat(j.a.responseResult," ").concat(j.a.error),children:["Error: ",e.messages]}):null]})})}})]}):Object(h.jsx)(d.a,{})};t.default=Object(o.compose)(Object(c.b)((function(e){return{isFetching:e.settingsPage.isFetching,messages:e.settingsPage.messages,sentSucessfully:e.settingsPage.sentSucessfully,profileInfo:Object(l.c)(e),id:Object(i.f)(e)}}),{changeProfileInfo:f.a,loadProfile:u.c}),a.a)((function(e){return Object(r.useEffect)((function(){return e.loadProfile(e.id)}),[]),Object(h.jsx)("div",{children:Object(h.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{changeProfileInfo:e.changeProfileInfo}))})}))},7:function(e,t,n){e.exports={mainWrapper:"UserInfo_mainWrapper__2mbbN",sectionContainer:"UserInfo_sectionContainer__1x86-",sectionHeader:"UserInfo_sectionHeader__3OUGL",personalInfo:"UserInfo_personalInfo__3rj8n",jobInfo:"UserInfo_jobInfo__O3tUb",contactsInfo:"UserInfo_contactsInfo__tgwA9",job:"UserInfo_job__NCInm",submit:"UserInfo_submit__2U8sM",loading:"UserInfo_loading__3omNj",responseResult:"UserInfo_responseResult__SwDOb",error:"UserInfo_error__w-DDH",sucess:"UserInfo_sucess__fD6ko"}},71:function(e,t,n){},72:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(31),c=n.n(r),o=(n(71),n(17)),i=n(18),u=n(21),l=n(20),f=n(14),d=n(4),p=(n(72),n(29)),g=n.n(p),j=n.p+"static/media/toucan.85b0421a.svg",b=n(3),h=n(10),m=n(19),O=n(15),x=n(41),v=n.n(x),_=n(0);var I=function(e){return e.isLogged?Object(_.jsx)("p",{className:v.a.loginName,children:e.login}):Object(_.jsx)(f.b,{to:"/login",className:v.a.loginBtn,onClick:function(){return e.authRequest()},children:"Login"})},y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(_.jsx)(I,Object(b.a)({},this.props))}}]),n}(a.a.Component);var N=Object(h.b)((function(e){return{isLogged:Object(O.g)(e),login:Object(O.e)(e),isFetching:Object(O.d)(e)}}),{authRequest:m.a})(y),S=n(61),C=n.n(S);var w=function(e){return Object(_.jsxs)("button",{className:C.a.logout,onClick:function(){return e.logout()},children:["LOG ",Object(_.jsx)("br",{})," OUT"]})};var L=Object(h.b)((function(e){return{isLogged:Object(O.g)(e)}}),{logout:m.d})((function(e){return e.isLogged?Object(_.jsx)(w,Object(b.a)({},e)):null}));var E=function(){return Object(_.jsxs)("header",{className:g.a.header,children:[Object(_.jsx)("img",{src:j}),Object(_.jsx)("p",{children:"Toucan Social Network"}),Object(_.jsxs)("div",{className:g.a.logInOutWrapper,children:[Object(_.jsx)(N,{className:g.a.logIn}),Object(_.jsx)(L,{className:g.a.logOut})]})]})},R=n(24),U=n.n(R);var k=function(){return Object(_.jsx)("div",{className:U.a.container,children:Object(_.jsxs)("nav",{className:U.a.nav,children:[Object(_.jsx)(f.b,{to:"/profile",activeClassName:U.a.active,children:"Profile"}),Object(_.jsx)(f.b,{to:"/messages",activeClassName:U.a.active,children:"Messages"}),Object(_.jsx)(f.b,{to:"/users",activeClassName:U.a.active,children:"Users"}),Object(_.jsx)(f.b,{to:"/settings",activeClassName:U.a.active,children:"Settings"})]})})},M=n(33),P=n(13),T=n(16),F=n(5),D="SEND-MESSAGE",W="GET-DIALOGS",A={userList:[],messages:[{id:"1",text:"Hello Alina!",timeStamp:"01.02.2021 22:10"},{userName:"Khaiuk Alina",id:"2",text:"How are you Max?",timeStamp:"01.02.2021 22:12"},{id:"1",text:"Thank you, I am fine.",timeStamp:"01.02.2021 22:12"},{userName:"Khaiuk Alina",id:"2",text:"Do you want to go for a walk?",timeStamp:"01.02.2021 22:14"},{id:"1",text:"Sorry, I am busy now, maybe later.",timeStamp:"01.02.2021 22:15"}]};var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=Object(b.a)(Object(b.a)({},e),{},{userList:Object(T.a)(e.userList),messages:Object(T.a)(e.messages)});switch(t.type){case D:var s={id:"7",text:t.message,timeStamp:t.dateTime};return n.messages.push(s),n;case W:return n.userList=Object(T.a)(t.users),n;default:return n}},q=function(e){return e.messagesPage.userList},G=function(e){return e.messagesPage.messages},V=n(44),B=n.n(V),z=n(22),Q=n.n(z);var J=function(e){return Object(_.jsxs)("div",{className:e.self?"".concat(Q.a.messageWrapper," ").concat(Q.a.self):"".concat(Q.a.messageWrapper," ").concat(Q.a.anotherUser),children:[Object(_.jsx)("p",{className:Q.a.user,children:e.userName?e.userName:"You: "}),Object(_.jsx)("p",{className:Q.a.text,children:e.text}),Object(_.jsx)("p",{className:Q.a.time,children:e.timeStamp})]})},Y=n(8),K=n(55),X=n.n(K);var Z=function(e){return Object(_.jsx)(Y.b,{onSubmit:function(t,n){if(t.message){var s=X()().format("MM.DD.YY, HH:mm:ss");e.sendMessage(t.message,s),n.reset()}},render:function(e){var t=e.handleSubmit,n=e.submitting;return Object(_.jsx)("form",{onSubmit:t,children:Object(_.jsxs)("div",{className:B.a.inputWindow,children:[Object(_.jsx)(Y.a,{name:"message",component:"input",type:"text",maxLength:5e3,placeholder:"Input your message..",autocomplete:"off"}),Object(_.jsx)("button",{disabled:n,children:"SEND"})]})})}})},$=function(e){var t=e.messages.map((function(e){return e.userName?Object(_.jsx)(J,{userName:e.userName,text:e.text,timeStamp:e.timeStamp,self:!1}):Object(_.jsx)(J,{text:e.text,timeStamp:e.timeStamp,self:!0})}));return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:B.a.chat,children:t}),Object(_.jsx)(Z,Object(b.a)({},e))]})},ee=n(62),te=n.n(ee),ne=n(23),se=n.n(ne),ae=n(56),re=n.p+"static/media/newMessage.59d9faef.svg";var ce=function(e){var t="/toucan/dialogs/".concat(e.id);return Object(_.jsx)("div",{className:se.a.wrapper,children:Object(_.jsx)(f.b,{to:t,activeClassName:se.a.active,children:Object(_.jsxs)("div",{className:se.a.container,children:[Object(_.jsx)("img",{className:se.a.avatar,src:e.photos.small||e.photos.large||ae.a,alt:"User avatar"}),Object(_.jsx)("p",{children:e.userName}),e.hasNewMessages?Object(_.jsxs)("div",{className:se.a.newMessagesWrapper,children:[Object(_.jsx)("img",{className:se.a.newMessage,src:re}),Object(_.jsx)("p",{className:se.a.newMessagesCount,children:e.newMessagesCount})]}):null]})})})},oe=n(63),ie=n.n(oe);var ue=function(e){var t=e.userList.map((function(e){return Object(_.jsx)(ce,Object(b.a)({},e))}));return Object(_.jsxs)("div",{className:ie.a.users,children:[t,";"]})};var le=function(e){return Object(_.jsxs)("div",{className:te.a.chatWrapper,children:[Object(_.jsx)(ue,{userList:e.userList}),Object(_.jsx)($,{messages:e.messages,sendMessage:e.sendMessage})]})},fe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.getDialogs()}},{key:"render",value:function(){return Object(_.jsx)(le,Object(b.a)({},this.props))}}]),n}(a.a.Component);var de=Object(P.compose)(Object(h.b)((function(e){return{userList:q(e),messages:G(e)}}),{getDialogs:function(){return function(e){F.a.messages.getAllDialogs().then((function(t){console.log(t),e({type:W,users:t})}))}},sendMessage:function(e,t){return{type:D,message:e,dateTime:t}}}),M.a)(fe),pe=n(25),ge="INITIALIZE",je={appReady:!1};var be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0,n=Object(b.a)({},e);switch(t.type){case ge:return n.appReady=!0,n;default:return e}};var he=function(e,t){return Object(_.jsx)(s.Suspense,{fallback:Object(_.jsx)(pe.a,{}),children:Object(_.jsx)(e,Object(b.a)({},t))})},me=n(66),Oe=a.a.lazy((function(){return n.e(5).then(n.bind(null,115))})),xe=a.a.lazy((function(){return n.e(4).then(n.bind(null,116))})),ve=a.a.lazy((function(){return n.e(3).then(n.bind(null,114))})),_e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.appReady?Object(_.jsx)(f.a,{basename:"/toucan/",children:Object(_.jsxs)("div",{className:"app-wrapper",children:[Object(_.jsx)(E,{}),Object(_.jsx)(k,{}),Object(_.jsxs)("div",{className:"app-wrapper-content",children:[Object(_.jsx)(d.b,{path:"/profile/:userId?",render:function(){return he(ve)}}),Object(_.jsx)(d.b,{path:"/messages",render:function(){return Object(_.jsx)(de,{})}}),Object(_.jsx)(d.b,{path:"/users",render:function(){return he(Oe)}}),Object(_.jsx)(d.b,{path:"/settings",render:function(){return he(me.default)}}),Object(_.jsx)(d.b,{path:"/login",render:function(){return he(xe)}})]})]})}):Object(_.jsx)(pe.a,{fullscreen:!0})}}]),n}(a.a.Component),Ie=Object(h.b)((function(e){return{appReady:e.app.appReady}}),{initializeApp:function(){return function(e){e(Object(m.a)()).then((function(){return e({type:ge})}))}}})(_e),ye=n(34),Ne=n(58),Se=n(64),Ce=n(65),we=n(37),Le=Object(P.combineReducers)({profilePage:ye.b,messagesPage:H,usersPage:Ne.a,auth:m.b,app:be,settingsPage:we.b}),Ee=Object(P.createStore)(Le,Object(Ce.composeWithDevTools)(Object(P.applyMiddleware)(Se.a)));c.a.render(Object(_.jsx)(h.a,{store:Ee,children:Object(_.jsx)(Ie,{})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.9ab445e9.chunk.js.map