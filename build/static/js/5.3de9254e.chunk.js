(this["webpackJsonpreact-social-network"]=this["webpackJsonpreact-social-network"]||[]).push([[5],{100:function(e,a,s){e.exports={controlBtn:"Paginator_controlBtn__3uvcx",controlsArea:"Paginator_controlsArea__1aGqo",pages:"Paginator_pages__2qRwX",pageNumber:"Paginator_pageNumber__3tJsr",activePage:"Paginator_activePage__1O-gD"}},111:function(e,a,s){"use strict";s.r(a);var t=s(3),r=s(21),c=s(22),n=s(25),u=s(24),o=s(30),i=s(0),l=s.n(i),b=s(10),g=s(13),j=s(57),P=s(99),_=s.n(P),d=s(56),p=s(11),h=s(19),m=s(100),O=s.n(m),v=s(1);var f=function(e){var a=e.totalCount,s=e.itemsPerPage,t=e.currentPage,r=e.loadPage,c=e.portionSize,n=void 0===c?10:c,u=Math.ceil(a/s),o=u/n,l=Array.from({length:u},(function(e,a){return a+1})),b=Object(i.useState)(1),g=Object(h.a)(b,2),j=g[0],P=g[1],_=Object(i.useState)(l.slice(0,n)),d=Object(h.a)(_,2),p=d[0],m=d[1];Object(i.useEffect)((function(){var e=Math.ceil(j*n);m(l.slice(e-n,e))}),[j]),Object(i.useEffect)((function(){m(l.slice(t-1,t+n-1)),P(Math.ceil(t/n))}),[t]);var f=p.map((function(e,a){return Object(v.jsx)("p",{className:t===e?O.a.activePage:O.a.pageNumber,onClick:function(){return r(e,t,s)},children:e},"page".concat(a))}));return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:O.a.controlsArea,children:[j<=1?null:Object(v.jsx)("button",{className:O.a.controlBtn,onClick:function(){P(--j)},children:"PREV"}),Object(v.jsx)("div",{className:O.a.pages,children:f}),j>=o?null:Object(v.jsx)("button",{className:O.a.controlBtn,onClick:function(){P(++j)},children:"NEXT"})]})})},x=s.p+"static/media/envelope.37a8a78e.svg";function N(e){"/messages/".concat(e.id);return e.users.map((function(a){return Object(v.jsxs)("div",{className:_.a.wrapper,children:[Object(v.jsxs)("div",{className:_.a.avatar,children:[Object(v.jsx)(p.b,{to:"profile/".concat(a.id),children:Object(v.jsx)("img",{className:_.a.photo,src:a.photos.small?a.photos.small:d.a,alt:"user avatar"})}),a.followed?Object(v.jsx)("button",{disabled:e.currentRequests.some((function(e){return e===a.id})),className:"".concat(_.a.btn," ").concat(_.a.unSubcribe),onClick:function(){e.unSubscribeRequest(a.id)},children:"UNSUBSCRIBE"}):Object(v.jsx)("button",{disabled:e.currentRequests.some((function(e){return e===a.id})),className:"".concat(_.a.btn," ").concat(_.a.subcribe),onClick:function(){e.subscribeRequest(a.id)},children:"SUBSCRIBE"})]}),Object(v.jsxs)("div",{className:_.a.infoWrapper,children:[Object(v.jsx)(p.b,{to:"messages/".concat(a.id),className:_.a.sendMessage,children:Object(v.jsx)("img",{src:x,alt:"send message"})}),Object(v.jsx)("p",{className:_.a.name,children:a.name}),a.status?Object(v.jsxs)("p",{className:_.a.status,children:["Status: ",a.status]}):null]})]},a.id)}))}var U=function(e){return Object(v.jsxs)("div",{children:[e.totalCount?Object(v.jsx)(f,{totalCount:e.totalCount,itemsPerPage:e.usersPerPage,currentPage:e.currentPage,loadPage:e.loadPage}):null,Object(v.jsxs)("div",{className:_.a.container,children:[Object(v.jsx)("button",{className:e.currentPage>1?"".concat(_.a.changePage," ").concat(_.a.prevPage):"".concat(_.a.changePage," ").concat(_.a.prevPage," ").concat(_.a.inactive),onClick:function(){return e.loadPrevPage(e.currentPage,e.usersPerPage)},children:"\xab"}),Object(v.jsx)("div",{className:_.a.usersArea,children:Object(v.jsx)(N,{users:e.users,subscribeRequest:e.subscribeRequest,unSubscribeRequest:e.unSubscribeRequest,currentRequests:e.currentRequests})}),Object(v.jsx)("button",{className:e.currentPage>=e.totalCount/e.usersPerPage?"".concat(_.a.changePage," ").concat(_.a.nextPage," ").concat(_.a.inactive):"".concat(_.a.changePage," ").concat(_.a.nextPage),onClick:function(){return e.loadNextPage(e.totalCount,e.usersPerPage,e.currentPage)},children:"\xbb"})]})]})},C=function(e){Object(n.a)(s,e);var a=Object(u.a)(s);function s(){var e;Object(r.a)(this,s);for(var t=arguments.length,c=new Array(t),n=0;n<t;n++)c[n]=arguments[n];return(e=a.call.apply(a,[this].concat(c))).componentDidMount=function(){e.props.getUsers(e.props.currentPage,e.props.usersPerPage)},e}return Object(c.a)(s,[{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[this.props.isFetching?Object(v.jsx)(o.a,{}):null,Object(v.jsx)(U,Object(t.a)(Object(t.a)({},this.props),{},{users:this.props.users}))]})}}]),s}(l.a.Component);a.default=Object(g.compose)(Object(b.b)((function(e){return{users:e.usersPage.users,currentPage:e.usersPage.currentPage,totalCount:e.usersPage.totalCount,usersPerPage:e.usersPage.usersPerPage,isFetching:e.usersPage.isFetching,currentRequests:e.usersPage.currentRequests}}),{getUsers:j.b,loadPage:j.d,loadNextPage:j.c,loadPrevPage:j.e,subscribeRequest:j.f,unSubscribeRequest:j.g}))(C)},99:function(e,a,s){e.exports={container:"Users_container__iuwYM",changePage:"Users_changePage__YkKaG",prevPage:"Users_prevPage__xwxAh",nextPage:"Users_nextPage__Y1DQT",inactive:"Users_inactive__hveiX",usersArea:"Users_usersArea__15cQa",wrapper:"Users_wrapper__2_7qC",avatar:"Users_avatar__qQIPI",photo:"Users_photo__3uU2C",btn:"Users_btn__2Hsx5",loading:"Users_loading__3TNnf",subcribe:"Users_subcribe__1z8kQ",unSubcribe:"Users_unSubcribe__7r4HU",infoWrapper:"Users_infoWrapper__T-b-2",name:"Users_name__Y6pTf",status:"Users_status__y2RXZ",sendMessage:"Users_sendMessage__2e19r"}}}]);
//# sourceMappingURL=5.3de9254e.chunk.js.map