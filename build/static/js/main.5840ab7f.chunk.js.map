{"version":3,"sources":["redux/loginSelectors.js","components/Navbar/Navbar.module.scss","redux/authReducer.js","components/Messages/Chat/Message/Message.module.scss","components/Messages/UserList/User/User.module.scss","components/Header/Header.module.scss","images/loader.svg","components/COMMON/Loader/Loader.jsx","components/Header/Login/Login.module.scss","components/Messages/Chat/Chat.module.scss","components/COMMON/Loader/Loader.module.scss","images/unknown-user.svg","hoc/withAuthRedirect.js","redux/profileReducer.js","redux/usersReducer.js","components/Header/Logout/Logout.module.scss","components/Messages/Messages.module.scss","api/apiDAL.js","components/Messages/UserList/UserList.module.scss","images/toucan.svg","components/Header/Login/Login.jsx","components/Header/Login/LoginContainer.jsx","components/Header/Logout/Logout.jsx","components/Header/Header.jsx","components/Music/Music.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","redux/messagesReducer.js","redux/messagesSelectors.js","components/Messages/Chat/Message/Message.jsx","components/Messages/Chat/Chat.jsx","images/newMessage.svg","components/Messages/UserList/User/User.jsx","components/Messages/UserList/UserList.jsx","components/Messages/Messages.jsx","components/Messages/MessagesContainer.jsx","redux/appReducer.js","hoc/withSuspense.js","App.js","redux/reduxStore.js","index.js"],"names":["getisLoggedSel","state","auth","isLogged","getLogingSel","login","getIsFetchingSel","isFetching","getErrorCodesSel","errorCodes","getErrorMessagesSel","errorMessages","getCaptchaSel","captcha","getUserIdSel","id","module","exports","LOGIN_REQ","SERVER_ERROR","CAPTCHA","initialState","email","messages","setLogin","type","serverError","code","authRequest","dispatch","DAL","then","res","resultCode","data","loginData","getCaptcha","url","logout","authReducer","action","newState","setTimeout","Loader","props","className","scss","loaderWrapper","loader","src","alt","mapStateToProps","withAuthRedirect","Component","AuthComponent","this","to","React","connect","ADD_POST","SET_PROFILE_INFO","GET_STATUS","SET_STATUS","REQUEST_IS_FETCHING","profileInfo","status","posts","imgLink","date","text","likes","addPost","post","requestIsFetching","boolean","fetching","setStatus","loadProfile","profile","loadProfileInfo","statusRequest","getStatus","setStatusRequest","oldStatus","newStatus","length","profileReducer","newPost","push","SET_USERS","SET_SUBSCRIBE","SET_UN_SUBSCRIBE","SET_TOTAL_USERS","SET_CURRENT_PAGE","ADD_FOLLOW_UNFOLLOW_REQUEST","REMOVE_FOLLOW_UNFOLLOW_REQUEST","users","totalCount","usersPerPage","currentPage","currentRequests","setUsers","setTotalUsers","setCurrentPage","addFollowUnFollowRequest","removeFollowUnFollowRequest","getUsers","items","loadPage","targetPage","loadNextPage","numberOfPages","Math","ceil","nextPage","loadPrevPage","prevPage","subscribeRequest","userID","unSubscribeRequest","uNsubscribeRequest","findUsersReducer","forEach","user","followed","filter","axiosSamurai","axios","create","baseURL","withCredentials","headers","security","get","delete","page","put","startChating","userId","getAllDialogs","getMessages","sendMessage","messageString","checkMessageViewed","messageId","markAsSpam","deleteMessageForMe","restoreMessage","filterMessagesByDate","dateString","listOfNewMessages","Login","loginName","loginBtn","onClick","LoginContainer","Logout","Header","header","toucanLogo","logInOutWrapper","logIn","logOut","Music","Navbar","container","nav","activeClassName","active","News","SEND_MESSAGE","GET_DIALOGS","userList","timeStamp","userName","messagesReducer","message","dateTime","getUserListSel","messagesPage","getMessagesSel","SelfMessage","self","messageWrapper","anotherUser","time","ChatInput","onSubmit","obj","form","moment","format","reset","render","handleSubmit","submitting","inputWindow","name","component","maxLength","placeholder","autocomplete","disabled","Chat","map","Message","chat","User","path","wrapper","avatar","photos","small","large","noAvatar","hasNewMessages","newMessagesWrapper","newMessage","newMessagesCount","UserList","c","Messages","chatWrapper","MessagesContainer","getDialogs","compose","console","log","INITIALIZE","appReady","appReducer","withSuspense","fallback","UsersContainer","lazy","LoginWindow","ProfileContainer","Settings","App","initializeApp","basename","app","rootReducer","combineReducers","profilePage","usersPage","usersReducer","store","createStore","composeWithDevTools","applyMiddleware","ReduxThunk","window","ReactDOM","document","getElementById"],"mappings":"mIAAA,8OAAO,IAAMA,EAAiB,SAACC,GAAD,OAAWA,EAAMC,KAAKC,UAEvCC,EAAe,SAACH,GAAD,OAAWA,EAAMC,KAAKG,OAErCC,EAAmB,SAACL,GAAD,OAAWA,EAAMC,KAAKK,YAEzCC,EAAmB,SAACP,GAAD,OAAWA,EAAMC,KAAKO,YAEzCC,EAAsB,SAACT,GAAD,OAAWA,EAAMC,KAAKS,eAE5CC,EAAgB,SAACX,GAAD,OAAWA,EAAMC,KAAKW,SAEtCC,EAAe,SAACb,GAAD,OAAWA,EAAMC,KAAKa,K,mBCXlDC,EAAOC,QAAU,CAAC,UAAY,0BAA0B,IAAM,oBAAoB,OAAS,yB,wJCCrFC,EAAY,YACZC,EAAe,eACfC,EAAU,UAEVC,EAAe,CACnBlB,UAAU,EACVY,GAAI,KACJV,MAAO,KACPiB,MAAO,KACPC,SAAU,GACVhB,YAAY,EACZI,cAAe,KACfF,WAAY,KACZI,QAAS,MA+BJ,SAASW,EAASnB,EAAOU,EAAIO,EAAOC,EAAUpB,GACnD,MAAO,CACLsB,KAAM,YACNpB,QACAU,KACAO,QACAC,WACApB,YAIG,SAASuB,EAAYH,EAAUI,GACpC,MAAO,CACLF,KAAMN,EACNI,WACAI,QAWG,SAASC,IACd,OAAO,SAACC,GACN,OAAOC,IAAI5B,KAAK0B,cAAcG,MAAK,SAACC,GACX,IAAnBA,EAAIC,YACNJ,EACEL,EACEQ,EAAIE,KAAK7B,MACT2B,EAAIE,KAAKnB,GACTiB,EAAIE,KAAKZ,MACTU,EAAIE,KAAKX,UACT,QAQL,SAASlB,EAAM8B,GACpB,OAAO,SAACN,GACNC,IAAI5B,KAAKG,MAAM8B,GAAWJ,MAAK,SAACC,GACP,IAAnBA,EAAIC,YACNL,IACAE,IAAI5B,KAAK0B,cAAcG,MAAK,SAACC,GACJ,IAAnBA,EAAIC,YACNJ,EACEL,EACEQ,EAAIE,KAAK7B,MACT2B,EAAIE,KAAKnB,GACTiB,EAAIE,KAAKZ,MACTU,EAAIE,KAAKX,UACT,QAKoB,KAAnBS,EAAIC,YACbJ,EAASH,EAAYM,EAAIT,SAAUS,EAAIC,aACvCH,IAAI5B,KAAKkC,aAAaL,MAAK,SAACC,GAAD,OAASH,GA7CpBQ,EA6CqCL,EAAIK,IA5CxD,CACLZ,KAAML,EACNiB,SAHG,IAAiBA,MA+ChBR,EAASH,EAAYM,EAAIT,SAAUS,EAAIC,iBAMxC,SAASK,IACd,OAAO,SAACT,GACNC,IAAI5B,KAAKoC,SAASP,MAAK,SAACC,GACC,IAAnBA,EAAIC,YACNJ,EAASL,EAAS,KAAM,KAAM,KAAM,IAAI,QAMjCe,IA9Gf,WAAoD,IAA/BtC,EAA8B,uDAAtBoB,EAAcmB,EAAQ,uCAC3CC,EAAQ,eAAQxC,GACtB,OAAQuC,EAAOf,MACb,KAAKP,EAMH,OALAuB,EAAStC,SAAWqC,EAAOrC,SAC3BsC,EAASpC,MAAQmC,EAAOnC,MACxBoC,EAAS1B,GAAKyB,EAAOzB,GACrB0B,EAASnB,MAAQkB,EAAOlB,MACxBmB,EAASlB,SAAWiB,EAAOjB,SACpBkB,EACT,KAAKtB,EAMH,OALAsB,EAAS9B,cAAgB6B,EAAOjB,SAChCkB,EAAShC,WAAa+B,EAAOb,KAC7Be,YAAW,WACTD,EAAS9B,cAAgB8B,EAAShC,WAAa,OAC9C,GACIgC,EACT,KAAKrB,EAKH,OAJAqB,EAAS5B,QAAU2B,EAAOH,IAC1BK,YAAW,WACTD,EAAS5B,QAAU4B,EAAS9B,cAAgB8B,EAAShC,WAAa,OACjE,GACIgC,EACT,QACE,OAAOxC,K,mBCzCbe,EAAOC,QAAU,CAAC,eAAiB,gCAAgC,KAAO,sBAAsB,KAAO,sBAAsB,KAAO,sBAAsB,KAAO,sBAAsB,YAAc,+B,mBCArMD,EAAOC,QAAU,CAAC,QAAU,sBAAsB,UAAY,wBAAwB,OAAS,qBAAqB,OAAS,qBAAqB,mBAAqB,iCAAiC,WAAa,yBAAyB,iBAAmB,iC,mBCAjQD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,gBAAkB,kC,yCCDrD,MAA0B,mC,wBCY1B0B,IARf,SAAgBC,GACd,OACF,qBAAKC,UAAWC,IAAKC,cAArB,SACM,qBAAKF,UAAWC,IAAKE,OAAQC,IAAKD,EAAQE,IAAI,mB,mBCNpDlC,EAAOC,QAAU,CAAC,UAAY,yBAAyB,SAAW,0B,mBCAlED,EAAOC,QAAU,CAAC,KAAO,mBAAmB,YAAc,4B,mBCA1DD,EAAOC,QAAU,CAAC,cAAgB,8BAA8B,OAAS,yB,gCCD1D,QAA0B,0C,yHCgBzC,SAASkC,EAAgBlD,GACvB,MAAO,CACLE,SAAUH,YAAeC,GACzBc,GAAID,YAAab,IAINmD,IAlBf,SAA0BC,GAAY,IAC9BC,EAD6B,4JAEjC,WACE,OAAKC,KAAKX,MAAMzC,SACT,cAACkD,EAAD,eAAeE,KAAKX,QADM,cAAC,IAAD,CAAUY,GAAG,eAHf,GACPC,IAAMJ,WAOlC,OAAOK,YAAQP,EAAiB,GAAzBO,CAA6BJ,K,kMCXhCK,EAAW,WACXC,EAAmB,mBACnBC,EAAa,aACbC,EAAa,aACbC,EAAsB,sBAEtB1C,EAAe,CACnB2C,YAAa,GACbC,OAAQ,GACRC,MAAO,CACL,CACEC,QACE,sEACFC,KAAM,mBACNC,KAAM,cACNC,MAAO,KACPvD,GAAI,GAEN,CACEoD,QACE,sEACFC,KAAM,mBACNC,KAAM,cACNC,MAAO,MACPvD,GAAI,GAEN,CACEoD,QACE,sEACFC,KAAM,mBACNC,KAAM,mBACNC,MAAO,OACPvD,GAAI,GAEN,CACEoD,QACE,sEACFC,KAAM,mBACNC,KAAM,YACNC,MAAO,KACPvD,GAAI,IAGRR,YAAY,GAyCP,SAASgE,EAAQC,EAAMJ,GAC5B,MAAO,CACL3C,KAAMkC,EACNa,OACAJ,QAWG,SAASK,EAAkBC,GAChC,MAAO,CACLjD,KAAM,sBACNkD,SAAUD,GAWP,SAASE,EAAUX,GACxB,MAAO,CACLxC,KAAMqC,EACNG,UAIG,SAASY,EAAY9D,GAC1B,OAAO,SAACc,GACNA,EAAS4C,GAAkB,IAC3B3C,IAAIgD,QAAQC,gBAAgBhE,GAAIgB,MAAK,SAACC,GACpCH,EA/BG,CACLJ,KAAM,mBACNuC,YA6B0BhC,IACxBH,EAAS4C,GAAkB,QAK1B,SAASO,EAAcjE,GAC5B,OAAO,SAACc,GACNC,IAAIgD,QAAQG,UAAUlE,GAAIgB,MAAK,SAACC,GAC9BH,EA1BG,CACLJ,KAAMoC,EACNI,OAwBqBjC,QAKlB,SAASkD,EAAiBC,EAAWC,GAC1C,OAAO,SAACvD,GAEJsD,IAAcC,GACA,KAAdA,GACAA,EAAUC,QAAU,IAEpBvD,IAAIgD,QAAQF,UAAUQ,GAAWrD,MAAK,SAACC,GACd,IAAnBA,EAAIC,YAAkBJ,EAAS+C,EAAUQ,OAE1CvD,EAAS+C,EAAUO,KAIfG,IA1Gf,WAAuD,IAA/BrF,EAA8B,uDAAtBoB,EAAcmB,EAAQ,uCAChDC,EAAQ,eAAQxC,GAIpB,OAHAwC,EAASuB,YAAT,eAA4B/D,EAAM+D,aAClCvB,EAASyB,MAAT,YAAqBjE,EAAMiE,OAEnB1B,EAAOf,MACb,KAAKkC,EACH,IAAI4B,EAAU,CACZpB,QACE,sEACFC,KAAM5B,EAAO4B,KACbC,KAAM7B,EAAOgC,KACbF,MAAO,KAGT,OADA7B,EAASyB,MAAMsB,KAAKD,GACb9C,EAET,KAAKmB,EAEH,OADAnB,EAASuB,YAAcxB,EAAOwB,YACvBvB,EAET,KAAKsB,EAEH,OADAtB,EAASlC,WAAaiC,EAAOmC,SACtBlC,EAET,KAAKoB,EAIL,KAAKC,EAEH,OADArB,EAASwB,OAASzB,EAAOyB,OAClBxB,EAET,QACE,OAAOxC,K,sQChFPwF,EAAY,YACZC,EAAgB,gBAChBC,EAAmB,mBACnBC,EAAkB,kBAClBC,EAAmB,mBACnB9B,EAAsB,sBACtB+B,EAA8B,8BAC9BC,EAAiC,iCAEjC1E,EAAe,CACnB2E,MAAO,GACPC,WAAY,EACZC,aAAc,EACdC,YAAa,EACb5F,YAAY,EACZ6F,gBAAiB,IA2CZ,SAASC,EAASL,GACvB,MAAO,CACLvE,KAAMgE,EACNO,SAkBG,SAASM,EAAcL,GAC5B,MAAO,CACLxE,KAAMmE,EACNK,cAIG,SAASM,EAAeJ,GAC7B,MAAO,CACL1E,KAAMoE,EACNM,eAIG,SAAS1B,EAAkBC,GAChC,MAAO,CACLjD,KAAMsC,EACNxD,WAAYmE,GAIT,SAAS8B,EAAyBzF,GACvC,MAAO,CACLU,KAAMqE,EACN/E,MAIG,SAAS0F,EAA4B1F,GAC1C,MAAO,CACLU,KAAMsE,EACNhF,MAIG,SAAS2F,EAASP,EAAaD,GACpC,OAAO,SAACrE,GACNA,EAAS4C,GAAkB,IAC3B3C,IAAIkE,MAAMU,SAASP,EAAaD,GAAcnE,MAAK,SAACC,GAClDH,EAAS4C,GAAkB,IAC3B5C,EAASwE,EAASrE,EAAI2E,QACtB9E,EAASyE,EAActE,EAAIiE,iBAK1B,SAASW,EAASC,EAAYV,EAAaD,GAChD,OAAO,SAACrE,GACFgF,IAAeV,IACjBtE,EAAS4C,GAAkB,IAC3B3C,IAAIkE,MAAMY,SAASC,EAAYX,GAAcnE,MAAK,SAACC,GACjDH,EAAS4C,GAAkB,IAC3B5C,EAASwE,EAASrE,EAAI2E,QACtB9E,EAASyE,EAActE,EAAIiE,gBAE7BpE,EAAS0E,EAAeM,MAKvB,SAASC,EAAab,EAAYC,EAAcC,GACrD,OAAO,SAACtE,GACN,IAAMkF,EAAgBC,KAAKC,KAAKhB,EAAaC,GACvCgB,EAAWf,EAAc,EAC3Be,GAAYH,IACdlF,EAAS4C,GAAkB,IAC3B3C,IAAIkE,MAAMc,aAAaI,EAAUhB,GAAcnE,MAAK,SAACC,GACnDH,EAAS4C,GAAkB,IAC3B5C,EAASwE,EAASrE,EAAI2E,QACtB9E,EAASyE,EAActE,EAAIiE,aAC3BpE,EAAS0E,EAAeW,SAMzB,SAASC,EAAahB,EAAaD,GACxC,OAAO,SAACrE,GACN,IAAMuF,EAAWjB,EAAc,EAC3BiB,GAAY,IACdvF,EAAS4C,GAAkB,IAC3B3C,IAAIkE,MAAMmB,aAAaC,EAAUlB,GAAcnE,MAAK,SAACC,GACnDH,EAASwE,EAASrE,EAAI2E,QACtB9E,EAASyE,EAActE,EAAIiE,aAC3BpE,EAAS4C,GAAkB,IAC3B5C,EAAS0E,EAAea,SAMzB,SAASC,EAAiBtG,GAC/B,OAAO,SAACc,GACNA,EAAS2E,EAAyBzF,IAClCe,IAAIkE,MAAMqB,iBAAiBtG,GAAIgB,MAAK,SAACC,GACZ,IAAnBA,EAAIC,YAAkBJ,EA5GvB,CACLJ,KAAMiE,EACN4B,OA0GkDvG,IAChDc,EAAS4E,EAA4B1F,QAKpC,SAASwG,EAAmBxG,GACjC,OAAO,SAACc,GACNA,EAAS2E,EAAyBzF,IAClCe,IAAIkE,MAAMwB,mBAAmBzG,GAAIgB,MAAK,SAACC,GACd,IAAnBA,EAAIC,YAAkBJ,EA/GvB,CACLJ,KAAMkE,EACN2B,OA6GoDvG,IAClDc,EAAS4E,EAA4B1F,QAK5B0G,IA5Kf,WAAyD,IAA/BxH,EAA8B,uDAAtBoB,EAAcmB,EAAQ,uCAClDC,EAAQ,eAAQxC,GAGpB,OAFAwC,EAASuD,MAAT,YAAqB/F,EAAM+F,OAC3BvD,EAAS2D,gBAAT,YAA+BnG,EAAMmG,iBAC7B5D,EAAOf,MACb,KAAKgE,EAEH,OADAhD,EAASuD,MAAQxD,EAAOwD,MACjBvD,EACT,KAAKiD,EAIH,OAHAjD,EAASuD,MAAM0B,SAAQ,SAACC,GAClBA,EAAK5G,IAAMyB,EAAO8E,SAAQK,EAAKC,UAAW,MAEzCnF,EACT,KAAKkD,EAIH,OAHAlD,EAASuD,MAAM0B,SAAQ,SAACC,GAClBA,EAAK5G,IAAMyB,EAAO8E,SAAQK,EAAKC,UAAW,MAEzCnF,EACT,KAAKmD,EAEH,OADAnD,EAASwD,WAAazD,EAAOyD,WACtBxD,EACT,KAAKoD,EAEH,OADApD,EAAS0D,YAAc3D,EAAO2D,YACvB1D,EACT,KAAKsB,EAEH,OADAtB,EAASlC,WAAaiC,EAAOjC,WACtBkC,EACT,KAAKqD,EAEH,OADArD,EAAS2D,gBAAgBZ,KAAKhD,EAAOzB,IAC9B0B,EACT,KAAKsD,EAIH,OAHAtD,EAAS2D,gBAAkB3D,EAAS2D,gBAAgByB,QAClD,SAAC9G,GAAD,OAAQA,IAAOyB,EAAOzB,MAEjB0B,EACT,QACE,OAAOxC,K,mBCvDbe,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,YAAc,gC,+BCDhC,YAEM6G,EAFN,OAEqBC,EAAMC,OAAO,CAChCC,QAAS,gDACTC,iBAAiB,EACjBC,QAAS,CACP,UAAW,0CAITrG,EAAM,CAGVsG,SAAU,GACVlI,KAAM,CACJ0B,YADI,WAEF,OAAOkG,EAAaO,IAAI,WAAWtG,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEvD7B,MAJI,SAIE8B,GACJ,OAAO2F,EAAatD,KAAK,aAAcrC,GAAWJ,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEtEI,OAPI,WAQF,OAAOwF,EAAaQ,OAAO,eAAevG,MAAK,SAACC,GAAD,OAASA,EAAIE,SAE9DE,WAVI,WAWF,OAAO0F,EACJO,IAAI,6BACJtG,MAAK,SAACC,GAAD,OAASA,EAAIE,UAGzB8D,MAAO,CACLU,SADK,SACIP,EAAaD,GACpB,OAAO4B,EACJO,IADI,qBACclC,EADd,kBACmCD,IACvCnE,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEvB0E,SANK,SAMI2B,EAAMrC,GACb,OAAO4B,EACJO,IADI,qBACcE,EADd,kBAC4BrC,IAChCnE,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEvB4E,aAXK,SAWQI,EAAUhB,GACrB,OAAO4B,EACJO,IADI,qBACcnB,EADd,kBACgChB,IACpCnE,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEvBiF,aAhBK,SAgBQC,EAAUlB,GACrB,OAAO4B,EACJO,IADI,qBACcjB,EADd,kBACgClB,IACpCnE,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEvBmF,iBArBK,SAqBYtG,GACf,OAAO+G,EACJtD,KADI,8DACwDzD,IAC5DgB,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEvBsF,mBA1BK,SA0BczG,GACjB,OAAO+G,EACJQ,OADI,8DAC0DvH,IAC9DgB,MAAK,SAACC,GAAD,OAASA,EAAIE,UAGzB4C,QAAS,CACPC,gBADO,SACShE,GACd,OAAO+G,EAAaO,IAAb,kBAA4BtH,IAAMgB,MAAK,SAACC,GAAD,OAASA,EAAIE,SAE7D+C,UAJO,SAIGlE,GACR,OAAO+G,EAAaO,IAAb,yBAAmCtH,IAAMgB,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEpE0C,UAPO,SAOGX,GACR,OAAO6D,EACJU,IAAI,iBAAkB,CAAEvE,OAAQA,IAChClC,MAAK,SAACC,GAAD,OAASA,EAAIE,UAGzBX,SAAU,CACRkH,aADQ,SACKC,GACX,OAAOZ,EAAaU,IAAb,kBAA4BE,IAAU3G,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEjEyG,cAJQ,WAKN,OAAOb,EAAaO,IAAb,YAA6BtG,MAAK,SAACC,GAAD,OAASA,EAAIE,SAExD0G,YAPQ,SAOIF,GACV,OAAOZ,EACJO,IADI,kBACWK,EADX,cAEJ3G,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEvB2G,YAZQ,SAYIH,EAAQI,GAClB,OAAOhB,EACJtD,KADI,kBACYkE,EADZ,aAC+BI,GACnC/G,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEvB6G,mBAjBQ,SAiBWC,GACjB,OAAOlB,EACJO,IADI,2BACoBW,EADpB,YAEJjH,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEvB+G,WAtBQ,SAsBGD,GACT,OAAOlB,EACJtD,KADI,2BACqBwE,EADrB,UAEJjH,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEvBgH,mBA3BQ,SA2BWF,GACjB,OAAOlB,EACJQ,OADI,2BACuBU,IAC3BjH,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEvBiH,eAhCQ,SAgCOH,GACb,OAAOlB,EACJU,IADI,2BACoBQ,EADpB,aAEJjH,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEvBkH,qBArCQ,SAqCaV,EAAQW,GAC3B,OAAOvB,EACJO,IADI,kBACWK,EADX,mCAC4CW,IAChDtH,MAAK,SAACC,GAAD,OAASA,EAAIE,SAEvBoH,kBA1CQ,WA2CN,OAAOxB,EACJO,IAAI,8BACJtG,MAAK,SAACC,GAAD,OAASA,EAAIE,WAKZJ,O,mBC5Hfd,EAAOC,QAAU,CAAC,MAAQ,0B,+OCDX,MAA0B,mC,uDCkB1BsI,MAdf,SAAe3G,GACb,OAAOA,EAAMzC,SACX,mBAAG0C,UAAWC,IAAK0G,UAAnB,SAA+B5G,EAAMvC,QAErC,cAAC,IAAD,CACEmD,GAAI,SACJX,UAAWC,IAAK2G,SAChBC,QAAS,kBAAM9G,EAAMhB,eAHvB,oBCEE+H,E,4JACJ,WACE,OAAO,cAAC,EAAD,eAAWpG,KAAKX,Y,GAFEa,IAAMJ,WAcpBK,mBARf,SAAyBzD,GACvB,MAAO,CACLE,SAAUH,YAAeC,GACzBI,MAAOD,YAAaH,GACpBM,WAAYD,YAAiBL,MAIO,CAAE2B,iBAA3B8B,CAA0CiG,G,iBCdzD,IAAMC,EAAS,SAAChH,GACd,OACE,yBAAQC,UAAWC,IAAKR,OAAQoH,QAAS,kBAAM9G,EAAMN,UAArD,iBACM,uBADN,WAYWoB,mBANf,SAAyBzD,GACvB,MAAO,CACLE,SAAUH,YAAeC,MAIW,CAAEqC,YAA3BoB,EAlBf,SAAyBd,GACvB,OAAOA,EAAMzC,SAAW,cAAC,EAAD,eAAYyC,IAAY,QCYnCiH,MAbf,WACE,OACE,yBAAQhH,UAAWC,IAAKgH,OAAxB,UACE,qBAAK7G,IAAK8G,IACV,sDACA,sBAAKlH,UAAWC,IAAKkH,gBAArB,UACE,cAAC,EAAD,CAAgBnH,UAAWC,IAAKmH,QAChC,cAAC,EAAD,CAAiBpH,UAAWC,IAAKoH,gB,MCF1BC,MATf,WACI,OACI,+C,iBCiBOC,MAjBf,WACE,OACE,qBAAKvH,UAAWC,IAAKuH,UAArB,SACA,sBAAKxH,UAAWC,IAAKwH,IAArB,UACE,cAAC,IAAD,CAAS9G,GAAG,WAAW+G,gBAAiBzH,IAAK0H,OAA7C,qBACA,cAAC,IAAD,CAAShH,GAAG,YAAY+G,gBAAiBzH,IAAK0H,OAA9C,sBACA,cAAC,IAAD,CAAShH,GAAG,SAAS+G,gBAAiBzH,IAAK0H,OAA3C,mBACA,cAAC,IAAD,CAAShH,GAAG,QAAQ+G,gBAAiBzH,IAAK0H,OAA1C,kBACA,cAAC,IAAD,CAAShH,GAAG,SAAS+G,gBAAiBzH,IAAK0H,OAA3C,mBACA,cAAC,IAAD,CAAShH,GAAG,YAAY+G,gBAAiBzH,IAAK0H,OAA9C,4B,MCHSC,MARf,WACI,OACI,8C,+BCFFC,EAAe,eACfC,EAAc,cAEdtJ,EAAe,CACnBuJ,SAAU,GACVrJ,SAAU,CACR,CACER,GAAI,IACJsD,KAAM,eACNwG,UAAW,oBAEb,CACEC,SAAU,eACV/J,GAAI,IACJsD,KAAM,mBACNwG,UAAW,oBAEb,CACE9J,GAAI,IACJsD,KAAM,wBACNwG,UAAW,oBAEb,CACEC,SAAU,eACV/J,GAAI,IACJsD,KAAM,gCACNwG,UAAW,oBAEb,CACE9J,GAAI,IACJsD,KAAM,qCACNwG,UAAW,sBAoDFE,MA/Cf,WAAwD,IAA/B9K,EAA8B,uDAAtBoB,EAAcmB,EAAQ,uCACjDC,EAAQ,2BACPxC,GADO,IAEV2K,SAAS,YAAK3K,EAAM2K,UACpBrJ,SAAS,YAAKtB,EAAMsB,YAEtB,OAAQiB,EAAOf,MACb,KAAKiJ,EACH,IAAMM,EAAU,CACdjK,GAAI,IACJsD,KAAM7B,EAAOwI,QACbH,UAAWrI,EAAOyI,UAGpB,OADAxI,EAASlB,SAASiE,KAAKwF,GAChBvI,EACT,KAAKkI,EAEH,OADAlI,EAASmI,SAAT,YAAwBpI,EAAOwD,OACxBvD,EACT,QACE,OAAOA,ICzDAyI,EAAiB,SAACjL,GAAD,OAAWA,EAAMkL,aAAaP,UAE/CQ,EAAiB,SAACnL,GAAD,OAAWA,EAAMkL,aAAa5J,U,kCCiB7C8J,MAhBf,SAAqBzI,GACnB,OACE,sBACEC,UACED,EAAM0I,KAAN,UACOxI,IAAKyI,eADZ,YAC8BzI,IAAKwI,MADnC,UAEOxI,IAAKyI,eAFZ,YAE8BzI,IAAK0I,aAJvC,UAOE,mBAAG3I,UAAWC,IAAK6E,KAAnB,SAA0B/E,EAAMkI,SAAWlI,EAAMkI,SAAW,UAC5D,mBAAGjI,UAAWC,IAAKuB,KAAnB,SAA0BzB,EAAMyB,OAChC,mBAAGxB,UAAWC,IAAK2I,KAAnB,SAA0B7I,EAAMiI,gB,yBCctC,IAAMa,GAAY,SAAC9I,GAAD,OAChB,cAAC,IAAD,CACE+I,SAAU,SAACC,EAAKC,GACd,GAAID,EAAIZ,QAAS,CACf,IAAMH,EAAYiB,MAASC,OAAO,sBAClCnJ,EAAMiG,YAAY+C,EAAIZ,QAASH,GAC/BgB,EAAKG,UAGTC,OAAQ,gBAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,WAAjB,OACN,sBAAMR,SAAUO,EAAhB,SACE,sBAAKrJ,UAAWC,IAAKsJ,YAArB,UACE,cAAC,IAAD,CACEC,KAAK,UACLC,UAAU,QACV7K,KAAK,OACL8K,UAAW,IACXC,YAAY,uBACZC,aAAa,QAEf,wBAAQC,SAAUP,EAAlB,2BAOKQ,GAjDf,SAAc/J,GACZ,IAAMrB,EAAWqB,EAAMrB,SAASqL,KAAI,SAAC5B,GAAD,OAClCA,EAAQF,SACN,cAAC+B,EAAD,CACE/B,SAAUE,EAAQF,SAClBzG,KAAM2G,EAAQ3G,KACdwG,UAAWG,EAAQH,UACnBS,MAAM,IAGR,cAACuB,EAAD,CAASxI,KAAM2G,EAAQ3G,KAAMwG,UAAWG,EAAQH,UAAWS,MAAM,OAIrE,OACE,gCACE,qBAAKzI,UAAWC,IAAKgK,KAArB,SAA4BvL,IAC5B,cAAC,GAAD,eAAeqB,Q,iDCvBN,OAA0B,uCC8B1BmK,OAxBf,SAAcnK,GACZ,IAAMoK,EAAI,0BAAsBpK,EAAM7B,IACtC,OACE,qBAAK8B,UAAWC,KAAKmK,QAArB,SACE,cAAC,IAAD,CAASzJ,GAAIwJ,EAAMzC,gBAAiBzH,KAAK0H,OAAzC,SACE,sBAAK3H,UAAWC,KAAKuH,UAArB,UACE,qBACExH,UAAWC,KAAKoK,OAChBjK,IAAKL,EAAMuK,OAAOC,OAASxK,EAAMuK,OAAOE,OAASC,KACjDpK,IAAI,gBAEN,4BAAIN,EAAMkI,WACTlI,EAAM2K,eACL,sBAAK1K,UAAWC,KAAK0K,mBAArB,UACE,qBAAK3K,UAAWC,KAAK2K,WAAYxK,IAAKwK,KACtC,mBAAG5K,UAAWC,KAAK4K,iBAAnB,SAAsC9K,EAAM8K,sBAE5C,a,oBCXCC,OARf,SAAkB/K,GAChB,IAAMoD,EAAQpD,EAAMgI,SAASgC,KAAI,SAACjF,GAAD,OAC/B,cAAC,GAAD,eAAUA,OAGZ,OAAO,sBAAK9E,UAAW+K,KAAE5H,MAAlB,UAA0BA,EAA1B,QCKM6H,OATf,SAAkBjL,GAChB,OACE,sBAAKC,UAAWC,KAAKgL,YAArB,UACE,cAAC,GAAD,CAAUlD,SAAUhI,EAAMgI,WAC1B,cAAC,GAAD,CAAMrJ,SAAUqB,EAAMrB,SAAUsH,YAAajG,EAAMiG,kBCDnDkF,G,uKACJ,WACExK,KAAKX,MAAMoL,e,oBAEb,WACE,OAAO,cAAC,GAAD,eAAczK,KAAKX,Y,GALEa,IAAMJ,WAgBvB4K,yBACbvK,aARF,SAAyBzD,GACvB,MAAO,CACL2K,SAAUM,EAAejL,GACzBsB,SAAU6J,EAAenL,MAKF,CAAE+N,WRmDtB,WACL,OAAO,SAACnM,GACNC,IAAIP,SAASoH,gBAAgB5G,MAAK,SAACC,GACjCkM,QAAQC,IAAInM,GACZH,EAlBG,CACLJ,KAAMkJ,EACN3E,MAgB2BhE,SQvDU6G,YR2ClC,SAAqBmC,EAASC,GACnC,MAAO,CACLxJ,KAAMiJ,EACNM,UACAC,eQ9CF7H,IAFa6K,CAGbF,I,SCzBIK,GAAa,aAEb/M,GAAe,CACnBgN,UAAU,GAoBL,IAIQC,GArBf,WAAmD,IAA/BrO,EAA8B,uDAAtBoB,GAAcmB,EAAQ,uCAC1CC,EAAQ,eAAQxC,GACtB,OAAQuC,EAAOf,MACb,KAAK2M,GAEH,OADA3L,EAAS4L,UAAW,EACb5L,EACT,QACE,OAAOxC,ICJEsO,OARf,SAAsBlL,EAAWT,GAC/B,OACE,cAAC,WAAD,CAAU4L,SAAU,cAAC7L,GAAA,EAAD,IAApB,SACE,cAACU,EAAD,eAAeT,OCQf6L,GAAiBhL,IAAMiL,MAAK,kBAChC,iCAEIC,GAAclL,IAAMiL,MAAK,kBAC7B,iCAEIE,GAAmBnL,IAAMiL,MAAK,kBAClC,iCAEIG,GAAWpL,IAAMiL,MAAK,kBAAM,iCAE5BI,G,uKACJ,WACEvL,KAAKX,MAAMmM,kB,oBAEb,WACE,OAAKxL,KAAKX,MAAMyL,SAEd,cAAC,IAAD,CAAeW,SAAS,WAAxB,SACE,sBAAKnM,UAAU,cAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,sBAAKA,UAAU,sBAAf,UACE,cAAC,IAAD,CACEmK,KAAK,oBACLf,OAAQ,kBAAMsC,GAAaK,OAE7B,cAAC,IAAD,CAAO5B,KAAK,YAAYf,OAAQ,kBAAM,cAAC,GAAD,OACtC,cAAC,IAAD,CAAOe,KAAK,SAASf,OAAQ,kBAAMsC,GAAaE,OAChD,cAAC,IAAD,CAAOzB,KAAK,QAAQf,OAAQ,kBAAM,cAAC,EAAD,OAClC,cAAC,IAAD,CAAOe,KAAK,SAASf,OAAQ,kBAAM,cAAC,EAAD,OACnC,cAAC,IAAD,CAAOe,KAAK,YAAYf,OAAQ,kBAAMsC,GAAaM,OACnD,cAAC,IAAD,CAAO7B,KAAK,SAASf,OAAQ,kBAAMsC,GAAaI,eAhBvB,cAAChM,GAAA,EAAD,Q,GALnBc,IAAMJ,WAoCTK,gBAPS,SAACzD,GACvB,MAAO,CACLoO,SAAUpO,EAAMgP,IAAIZ,YAKgB,CAAEU,cFpCb,kBAAM,SAAClN,GAClCA,EAASD,eAAeG,MAAK,kBAAMF,EAN5B,CACLJ,KAAM2M,WEwCK1K,CAA4CoL,I,oCClDrDI,GAAcC,0BAAgB,CAClCC,YAAa9J,KACb6F,aAAcJ,EACdsE,UAAWC,KACXpP,KAAMqC,IACN0M,IAAKX,KAGDiB,GAAQC,sBACZN,GACAO,+BAAoBC,0BAAgBC,QAGtCC,OAAOL,MAAQA,GAEAA,UCnBfM,IAAS5D,OACP,cAAC,IAAD,CAAUsD,MAAOA,GAAjB,SACE,cAAC,GAAD,MAGFO,SAASC,eAAe,W","file":"static/js/main.5840ab7f.chunk.js","sourcesContent":["export const getisLoggedSel = (state) => state.auth.isLogged;\r\n\r\nexport const getLogingSel = (state) => state.auth.login;\r\n\r\nexport const getIsFetchingSel = (state) => state.auth.isFetching;\r\n\r\nexport const getErrorCodesSel = (state) => state.auth.errorCodes;\r\n\r\nexport const getErrorMessagesSel = (state) => state.auth.errorMessages;\r\n\r\nexport const getCaptchaSel = (state) => state.auth.captcha;\r\n\r\nexport const getUserIdSel = (state) => state.auth.id;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Navbar_container__1_ue6\",\"nav\":\"Navbar_nav__3UMRc\",\"active\":\"Navbar_active__1KUtM\"};","import DAL from \"api/apiDAL\";\r\n\r\nconst LOGIN_REQ = \"LOGIN-REQ\";\r\nconst SERVER_ERROR = \"SERVER-ERROR\";\r\nconst CAPTCHA = \"CAPTCHA\";\r\n\r\nconst initialState = {\r\n  isLogged: false,\r\n  id: null,\r\n  login: null,\r\n  email: null,\r\n  messages: [],\r\n  isFetching: false,\r\n  errorMessages: null,\r\n  errorCodes: null,\r\n  captcha: null,\r\n};\r\n\r\nfunction authReducer(state = initialState, action) {\r\n  const newState = { ...state };\r\n  switch (action.type) {\r\n    case LOGIN_REQ:\r\n      newState.isLogged = action.isLogged;\r\n      newState.login = action.login;\r\n      newState.id = action.id;\r\n      newState.email = action.email;\r\n      newState.messages = action.messages;\r\n      return newState;\r\n    case SERVER_ERROR:\r\n      newState.errorMessages = action.messages;\r\n      newState.errorCodes = action.code;\r\n      setTimeout(() => {\r\n        newState.errorMessages = newState.errorCodes = null;\r\n      }, 0);\r\n      return newState;\r\n    case CAPTCHA:\r\n      newState.captcha = action.url;\r\n      setTimeout(() => {\r\n        newState.captcha = newState.errorMessages = newState.errorCodes = null;\r\n      }, 0);\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function setLogin(login, id, email, messages, isLogged) {\r\n  return {\r\n    type: \"LOGIN-REQ\",\r\n    login,\r\n    id,\r\n    email,\r\n    messages,\r\n    isLogged,\r\n  };\r\n}\r\n\r\nexport function serverError(messages, code) {\r\n  return {\r\n    type: SERVER_ERROR,\r\n    messages,\r\n    code,\r\n  };\r\n}\r\n\r\nexport function captcha(url) {\r\n  return {\r\n    type: CAPTCHA,\r\n    url,\r\n  };\r\n}\r\n\r\nexport function authRequest() {\r\n  return (dispatch) => {\r\n    return DAL.auth.authRequest().then((res) => {\r\n      if (res.resultCode === 0) {\r\n        dispatch(\r\n          setLogin(\r\n            res.data.login,\r\n            res.data.id,\r\n            res.data.email,\r\n            res.data.messages,\r\n            true\r\n          )\r\n        );\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nexport function login(loginData) {\r\n  return (dispatch) => {\r\n    DAL.auth.login(loginData).then((res) => {\r\n      if (res.resultCode === 0) {\r\n        authRequest();\r\n        DAL.auth.authRequest().then((res) => {\r\n          if (res.resultCode === 0) {\r\n            dispatch(\r\n              setLogin(\r\n                res.data.login,\r\n                res.data.id,\r\n                res.data.email,\r\n                res.data.messages,\r\n                true\r\n              )\r\n            );\r\n          }\r\n        });\r\n      } else if (res.resultCode === 10) {\r\n        dispatch(serverError(res.messages, res.resultCode));\r\n        DAL.auth.getCaptcha().then((res) => dispatch(captcha(res.url)));\r\n      } else {\r\n        dispatch(serverError(res.messages, res.resultCode));\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nexport function logout() {\r\n  return (dispatch) => {\r\n    DAL.auth.logout().then((res) => {\r\n      if (res.resultCode === 0) {\r\n        dispatch(setLogin(null, null, null, [], false));\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nexport default authReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageWrapper\":\"Message_messageWrapper__36R4N\",\"user\":\"Message_user__-Ob5z\",\"text\":\"Message_text__t46C2\",\"time\":\"Message_time__2T9dj\",\"self\":\"Message_self__1DcSV\",\"anotherUser\":\"Message_anotherUser__HdIPS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"User_wrapper__1wFGK\",\"container\":\"User_container__2D4vm\",\"avatar\":\"User_avatar__2YDBq\",\"active\":\"User_active__1bOFJ\",\"newMessagesWrapper\":\"User_newMessagesWrapper__3NSI8\",\"newMessage\":\"User_newMessage__Qnvzl\",\"newMessagesCount\":\"User_newMessagesCount__2XWU0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1zvcz\",\"logInOutWrapper\":\"Header_logInOutWrapper__3m6Os\"};","export default __webpack_public_path__ + \"static/media/loader.d598e8f2.svg\";","import React from \"react\";\r\nimport loader from \"../../../images/loader.svg\";\r\nimport scss from \"./Loader.module.scss\";\r\n\r\nfunction Loader(props) {\r\n  return (\r\n<div className={scss.loaderWrapper}>\r\n      <img className={scss.loader} src={loader} alt=\"LOADING...\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginName\":\"Login_loginName__1xOxy\",\"loginBtn\":\"Login_loginBtn__WqQGl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"Chat_chat__3TtEy\",\"inputWindow\":\"Chat_inputWindow__3Wr9T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderWrapper\":\"Loader_loaderWrapper__3XmWS\",\"loader\":\"Loader_loader__1w7OH\"};","export default __webpack_public_path__ + \"static/media/unknown-user.494e7271.svg\";","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { getisLoggedSel, getUserIdSel } from \"redux/loginSelectors\";\r\n\r\nfunction withAuthRedirect(Component) {\r\n  class AuthComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isLogged) return <Redirect to=\"/login\" />;\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  return connect(mapStateToProps, {})(AuthComponent);\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isLogged: getisLoggedSel(state),\r\n    id: getUserIdSel(state),\r\n  };\r\n}\r\n\r\nexport default withAuthRedirect;\r\n","import DAL from \"api/apiDAL\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_PROFILE_INFO = \"SET-PROFILE-INFO\";\r\nconst GET_STATUS = \"GET-STATUS\";\r\nconst SET_STATUS = \"SET-STATUS\";\r\nconst REQUEST_IS_FETCHING = \"REQUEST-IS-FETCHING\";\r\n\r\nconst initialState = {\r\n  profileInfo: {},\r\n  status: '',\r\n  posts: [\r\n    {\r\n      imgLink:\r\n        \"https://cdn.pixabay.com/photo/2018/03/31/06/31/dog-3277416__340.jpg\",\r\n      date: \"03.02.2021 12:41\",\r\n      text: \"Hello World\",\r\n      likes: \"25\",\r\n      id: 1,\r\n    },\r\n    {\r\n      imgLink:\r\n        \"https://cdn.pixabay.com/photo/2018/03/31/06/31/dog-3277416__340.jpg\",\r\n      date: \"03.02.2021 12:44\",\r\n      text: \"Hello React\",\r\n      likes: \"125\",\r\n      id: 2,\r\n    },\r\n    {\r\n      imgLink:\r\n        \"https://cdn.pixabay.com/photo/2018/03/31/06/31/dog-3277416__340.jpg\",\r\n      date: \"03.02.2021 12:41\",\r\n      text: \"Hello JavaScript\",\r\n      likes: \"1125\",\r\n      id: 3,\r\n    },\r\n    {\r\n      imgLink:\r\n        \"https://cdn.pixabay.com/photo/2018/03/31/06/31/dog-3277416__340.jpg\",\r\n      date: \"03.02.2021 12:41\",\r\n      text: \"Hello Web\",\r\n      likes: \"23\",\r\n      id: 4,\r\n    },\r\n  ],\r\n  isFetching: false,\r\n};\r\n\r\nfunction profileReducer(state = initialState, action) {\r\n  let newState = { ...state };\r\n  newState.profileInfo = { ...state.profileInfo };\r\n  newState.posts = [...state.posts];\r\n\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        imgLink:\r\n          \"https://cdn.pixabay.com/photo/2018/03/31/06/31/dog-3277416__340.jpg\",\r\n        date: action.date,\r\n        text: action.post,\r\n        likes: \"0\",\r\n      };\r\n      newState.posts.push(newPost);\r\n      return newState;\r\n    }\r\n    case SET_PROFILE_INFO: {\r\n      newState.profileInfo = action.profileInfo;\r\n      return newState;\r\n    }\r\n    case REQUEST_IS_FETCHING: {\r\n      newState.isFetching = action.fetching;\r\n      return newState;\r\n    }\r\n    case GET_STATUS: {\r\n      newState.status = action.status;\r\n      return newState;\r\n    }\r\n    case SET_STATUS: {\r\n      newState.status = action.status;\r\n      return newState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function addPost(post, date) {\r\n  return {\r\n    type: ADD_POST,\r\n    post,\r\n    date,\r\n  };\r\n}\r\n\r\nexport function setProfileInfo(profileInfo) {\r\n  return {\r\n    type: \"SET-PROFILE-INFO\",\r\n    profileInfo: profileInfo,\r\n  };\r\n}\r\n\r\nexport function requestIsFetching(boolean) {\r\n  return {\r\n    type: \"REQUEST-IS-FETCHING\",\r\n    fetching: boolean,\r\n  };\r\n}\r\n\r\nexport function getStatus(status) {\r\n  return {\r\n    type: GET_STATUS,\r\n    status,\r\n  };\r\n}\r\n\r\nexport function setStatus(status) {\r\n  return {\r\n    type: SET_STATUS,\r\n    status,\r\n  };\r\n}\r\n\r\nexport function loadProfile(id) {\r\n  return (dispatch) => {\r\n    dispatch(requestIsFetching(true));\r\n    DAL.profile.loadProfileInfo(id).then((res) => {\r\n      dispatch(setProfileInfo(res));\r\n      dispatch(requestIsFetching(false));\r\n    });\r\n  };\r\n}\r\n\r\nexport function statusRequest(id) {\r\n  return (dispatch) => {\r\n    DAL.profile.getStatus(id).then((res) => {\r\n      dispatch(getStatus(res));\r\n    });\r\n  };\r\n}\r\n\r\nexport function setStatusRequest(oldStatus, newStatus) {\r\n  return (dispatch) => {\r\n    if (\r\n      oldStatus !== newStatus &&\r\n      newStatus !== \"\" &&\r\n      newStatus.length <= 300\r\n    ) {\r\n      DAL.profile.setStatus(newStatus).then((res) => {\r\n        if (res.resultCode === 0) dispatch(setStatus(newStatus));\r\n      });\r\n    } else dispatch(setStatus(oldStatus));\r\n  };\r\n}\r\n\r\nexport default profileReducer;\r\n","import DAL from \"api/apiDAL\";\r\n\r\nconst SET_USERS = \"SET-USERS\";\r\nconst SET_SUBSCRIBE = \"SET-SUBSCRIBE\";\r\nconst SET_UN_SUBSCRIBE = \"SET-UN-SUBSCRIBE\";\r\nconst SET_TOTAL_USERS = \"SET-TOTAL-USERS\";\r\nconst SET_CURRENT_PAGE = \"SET-CURRENT-PAGE\";\r\nconst REQUEST_IS_FETCHING = \"REQUEST-IS-FETCHING\";\r\nconst ADD_FOLLOW_UNFOLLOW_REQUEST = \"ADD-FOLLOW-UNFOLLOW-REQUEST\";\r\nconst REMOVE_FOLLOW_UNFOLLOW_REQUEST = \"REMOVE-FOLLOW-UNFOLLOW-REQUEST\";\r\n\r\nconst initialState = {\r\n  users: [],\r\n  totalCount: 0,\r\n  usersPerPage: 6,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  currentRequests: [],\r\n};\r\n\r\nfunction findUsersReducer(state = initialState, action) {\r\n  let newState = { ...state };\r\n  newState.users = [...state.users];\r\n  newState.currentRequests = [...state.currentRequests];\r\n  switch (action.type) {\r\n    case SET_USERS:\r\n      newState.users = action.users;\r\n      return newState;\r\n    case SET_SUBSCRIBE:\r\n      newState.users.forEach((user) => {\r\n        if (user.id == action.userID) user.followed = true;\r\n      });\r\n      return newState;\r\n    case SET_UN_SUBSCRIBE:\r\n      newState.users.forEach((user) => {\r\n        if (user.id == action.userID) user.followed = false;\r\n      });\r\n      return newState;\r\n    case SET_TOTAL_USERS:\r\n      newState.totalCount = action.totalCount;\r\n      return newState;\r\n    case SET_CURRENT_PAGE:\r\n      newState.currentPage = action.currentPage;\r\n      return newState;\r\n    case REQUEST_IS_FETCHING:\r\n      newState.isFetching = action.isFetching;\r\n      return newState;\r\n    case ADD_FOLLOW_UNFOLLOW_REQUEST:\r\n      newState.currentRequests.push(action.id);\r\n      return newState;\r\n    case REMOVE_FOLLOW_UNFOLLOW_REQUEST:\r\n      newState.currentRequests = newState.currentRequests.filter(\r\n        (id) => id !== action.id\r\n      );\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function setUsers(users) {\r\n  return {\r\n    type: SET_USERS,\r\n    users,\r\n  };\r\n}\r\n\r\nexport function setSubscribe(userID) {\r\n  return {\r\n    type: SET_SUBSCRIBE,\r\n    userID,\r\n  };\r\n}\r\n\r\nexport function setUnSubscribe(userID) {\r\n  return {\r\n    type: SET_UN_SUBSCRIBE,\r\n    userID,\r\n  };\r\n}\r\n\r\nexport function setTotalUsers(totalCount) {\r\n  return {\r\n    type: SET_TOTAL_USERS,\r\n    totalCount,\r\n  };\r\n}\r\n\r\nexport function setCurrentPage(currentPage) {\r\n  return {\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage,\r\n  };\r\n}\r\n\r\nexport function requestIsFetching(boolean) {\r\n  return {\r\n    type: REQUEST_IS_FETCHING,\r\n    isFetching: boolean,\r\n  };\r\n}\r\n\r\nexport function addFollowUnFollowRequest(id) {\r\n  return {\r\n    type: ADD_FOLLOW_UNFOLLOW_REQUEST,\r\n    id,\r\n  };\r\n}\r\n\r\nexport function removeFollowUnFollowRequest(id) {\r\n  return {\r\n    type: REMOVE_FOLLOW_UNFOLLOW_REQUEST,\r\n    id,\r\n  };\r\n}\r\n\r\nexport function getUsers(currentPage, usersPerPage) {\r\n  return (dispatch) => {\r\n    dispatch(requestIsFetching(true));\r\n    DAL.users.getUsers(currentPage, usersPerPage).then((res) => {\r\n      dispatch(requestIsFetching(false));\r\n      dispatch(setUsers(res.items));\r\n      dispatch(setTotalUsers(res.totalCount));\r\n    });\r\n  };\r\n}\r\n\r\nexport function loadPage(targetPage, currentPage, usersPerPage) {\r\n  return (dispatch) => {\r\n    if (targetPage !== currentPage) {\r\n      dispatch(requestIsFetching(true));\r\n      DAL.users.loadPage(targetPage, usersPerPage).then((res) => {\r\n        dispatch(requestIsFetching(false));\r\n        dispatch(setUsers(res.items));\r\n        dispatch(setTotalUsers(res.totalCount));\r\n      });\r\n      dispatch(setCurrentPage(targetPage));\r\n    }\r\n  };\r\n}\r\n\r\nexport function loadNextPage(totalCount, usersPerPage, currentPage) {\r\n  return (dispatch) => {\r\n    const numberOfPages = Math.ceil(totalCount / usersPerPage);\r\n    const nextPage = currentPage + 1;\r\n    if (nextPage <= numberOfPages) {\r\n      dispatch(requestIsFetching(true));\r\n      DAL.users.loadNextPage(nextPage, usersPerPage).then((res) => {\r\n        dispatch(requestIsFetching(false));\r\n        dispatch(setUsers(res.items));\r\n        dispatch(setTotalUsers(res.totalCount));\r\n        dispatch(setCurrentPage(nextPage));\r\n      });\r\n    }\r\n  };\r\n}\r\n\r\nexport function loadPrevPage(currentPage, usersPerPage) {\r\n  return (dispatch) => {\r\n    const prevPage = currentPage - 1;\r\n    if (prevPage >= 1) {\r\n      dispatch(requestIsFetching(true));\r\n      DAL.users.loadPrevPage(prevPage, usersPerPage).then((res) => {\r\n        dispatch(setUsers(res.items));\r\n        dispatch(setTotalUsers(res.totalCount));\r\n        dispatch(requestIsFetching(false));\r\n        dispatch(setCurrentPage(prevPage));\r\n      });\r\n    }\r\n  };\r\n}\r\n\r\nexport function subscribeRequest(id) {\r\n  return (dispatch) => {\r\n    dispatch(addFollowUnFollowRequest(id));\r\n    DAL.users.subscribeRequest(id).then((res) => {\r\n      if (res.resultCode === 0) dispatch(setSubscribe(id));\r\n      dispatch(removeFollowUnFollowRequest(id));\r\n    });\r\n  };\r\n}\r\n\r\nexport function unSubscribeRequest(id) {\r\n  return (dispatch) => {\r\n    dispatch(addFollowUnFollowRequest(id));\r\n    DAL.users.uNsubscribeRequest(id).then((res) => {\r\n      if (res.resultCode === 0) dispatch(setUnSubscribe(id));\r\n      dispatch(removeFollowUnFollowRequest(id));\r\n    });\r\n  };\r\n}\r\n\r\nexport default findUsersReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logout\":\"Logout_logout__1DQkS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatWrapper\":\"Messages_chatWrapper__tzRIL\"};","import axios from \"axios\";\r\n\r\nconst axiosSamurai = axios.create({\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"7bc71dc4-bd30-40b8-a02a-666b7e04e450\",\r\n  },\r\n});\r\n\r\nconst DAL = {\r\n  // DATA ACCESS LAYER\r\n\r\n  security: {},\r\n  auth: {\r\n    authRequest() {\r\n      return axiosSamurai.get(\"auth/me\").then((res) => res.data);\r\n    },\r\n    login(loginData) {\r\n      return axiosSamurai.post(\"auth/login\", loginData).then((res) => res.data);\r\n    },\r\n    logout() {\r\n      return axiosSamurai.delete(\"/auth/login\").then((res) => res.data);\r\n    },\r\n    getCaptcha() {\r\n      return axiosSamurai\r\n        .get(\"/security/get-captcha-url\")\r\n        .then((res) => res.data);\r\n    },\r\n  },\r\n  users: {\r\n    getUsers(currentPage, usersPerPage) {\r\n      return axiosSamurai\r\n        .get(`users?page=${currentPage}&count=${usersPerPage}`)\r\n        .then((res) => res.data);\r\n    },\r\n    loadPage(page, usersPerPage) {\r\n      return axiosSamurai\r\n        .get(`users?page=${page}&count=${usersPerPage}`)\r\n        .then((res) => res.data);\r\n    },\r\n    loadNextPage(nextPage, usersPerPage) {\r\n      return axiosSamurai\r\n        .get(`users?page=${nextPage}&count=${usersPerPage}`)\r\n        .then((res) => res.data);\r\n    },\r\n    loadPrevPage(prevPage, usersPerPage) {\r\n      return axiosSamurai\r\n        .get(`users?page=${prevPage}&count=${usersPerPage}`)\r\n        .then((res) => res.data);\r\n    },\r\n    subscribeRequest(id) {\r\n      return axiosSamurai\r\n        .post(`https://social-network.samuraijs.com/api/1.0/follow/${id}`)\r\n        .then((res) => res.data);\r\n    },\r\n    uNsubscribeRequest(id) {\r\n      return axiosSamurai\r\n        .delete(`https://social-network.samuraijs.com/api/1.0/follow/${id}`)\r\n        .then((res) => res.data);\r\n    },\r\n  },\r\n  profile: {\r\n    loadProfileInfo(id) {\r\n      return axiosSamurai.get(`profile/${id}`).then((res) => res.data);\r\n    },\r\n    getStatus(id) {\r\n      return axiosSamurai.get(`profile/status/${id}`).then((res) => res.data);\r\n    },\r\n    setStatus(status) {\r\n      return axiosSamurai\r\n        .put(\"profile/status\", { status: status })\r\n        .then((res) => res.data);\r\n    },\r\n  },\r\n  messages: {\r\n    startChating(userId) {\r\n      return axiosSamurai.put(`dialogs/${userId}`).then((res) => res.data);\r\n    },\r\n    getAllDialogs() {\r\n      return axiosSamurai.get(`dialogs/`).then((res) => res.data);\r\n    },\r\n    getMessages(userId) {\r\n      return axiosSamurai\r\n        .get(`dialogs/${userId}/messages`)\r\n        .then((res) => res.data);\r\n    },\r\n    sendMessage(userId, messageString) {\r\n      return axiosSamurai\r\n        .post(`dialogs/${userId}/messages`, messageString)\r\n        .then((res) => res.data);\r\n    },\r\n    checkMessageViewed(messageId) {\r\n      return axiosSamurai\r\n        .get(`dialogs/messages/${messageId}/viewed`)\r\n        .then((res) => res.data);\r\n    },\r\n    markAsSpam(messageId) {\r\n      return axiosSamurai\r\n        .post(`dialogs/messages/${messageId}/spam`)\r\n        .then((res) => res.data);\r\n    },\r\n    deleteMessageForMe(messageId) {\r\n      return axiosSamurai\r\n        .delete(`dialogs/messages/${messageId}`)\r\n        .then((res) => res.data);\r\n    },\r\n    restoreMessage(messageId) {\r\n      return axiosSamurai\r\n        .put(`dialogs/messages/${messageId}/restore`)\r\n        .then((res) => res.data);\r\n    },\r\n    filterMessagesByDate(userId, dateString) {\r\n      return axiosSamurai\r\n        .get(`dialogs/${userId}/messages/new?newerThen=${dateString}`)\r\n        .then((res) => res.data);\r\n    },\r\n    listOfNewMessages() {\r\n      return axiosSamurai\r\n        .get(\"dialogs/messages/new/count\")\r\n        .then((res) => res.data);\r\n    },\r\n  },\r\n};\r\n\r\nexport default DAL;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"UserList_users__2I2wg\"};","export default __webpack_public_path__ + \"static/media/toucan.85b0421a.svg\";","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport scss from \"./Login.module.scss\";\r\n\r\nfunction Login(props) {\r\n  return props.isLogged ? (\r\n    <p className={scss.loginName}>{props.login}</p>\r\n  ) : (\r\n    <NavLink\r\n      to={\"/login\"}\r\n      className={scss.loginBtn}\r\n      onClick={() => props.authRequest()}\r\n    >\r\n      Login\r\n    </NavLink>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { authRequest } from \"redux/authReducer\";\r\nimport {\r\n  getIsFetchingSel,\r\n  getisLoggedSel,\r\n  getLogingSel,\r\n} from \"redux/loginSelectors\";\r\nimport Login from \"./Login\";\r\n\r\nclass LoginContainer extends React.Component {\r\n  render() {\r\n    return <Login {...this.props} />;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isLogged: getisLoggedSel(state),\r\n    login: getLogingSel(state),\r\n    isFetching: getIsFetchingSel(state),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { authRequest })(LoginContainer);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"redux/authReducer\";\r\nimport { getisLoggedSel } from \"redux/loginSelectors\";\r\nimport scss from \"./Logout.module.scss\";\r\n\r\nfunction LogoutContainer(props) {\r\n  return props.isLogged ? <Logout {...props} /> : null;\r\n}\r\n\r\nconst Logout = (props) => {\r\n  return (\r\n    <button className={scss.logout} onClick={() => props.logout()}>\r\n      LOG <br /> OUT\r\n    </button>\r\n  );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isLogged: getisLoggedSel(state),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout })(LogoutContainer);\r\n","import scss from \"./Header.module.scss\";\r\nimport toucanLogo from \"../../images/toucan.svg\";\r\nimport LoginContainer from \"./Login/LoginContainer\";\r\nimport React from \"react\";\r\nimport LogoutContainer from \"./Logout/Logout\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className={scss.header}>\r\n      <img src={toucanLogo}></img>\r\n      <p>Toucan Social Network</p>\r\n      <div className={scss.logInOutWrapper}>\r\n        <LoginContainer className={scss.logIn}/>\r\n        <LogoutContainer className={scss.logOut}/>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import c from \"./Music.module.scss\";\r\n\r\nfunction Music () {\r\n    return (\r\n        <div>\r\n            MUSIC HERE.\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Music;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport scss from './Navbar.module.scss';\r\n\r\nfunction Navbar() {\r\n  return (\r\n    <div className={scss.container}>\r\n    <nav className={scss.nav}>\r\n      <NavLink to='/profile' activeClassName={scss.active}>Profile</NavLink>\r\n      <NavLink to='/messages' activeClassName={scss.active}>Messages</NavLink>\r\n      <NavLink to='/users' activeClassName={scss.active}>Users</NavLink>\r\n      <NavLink to='/news' activeClassName={scss.active}>News</NavLink>\r\n      <NavLink to='/music' activeClassName={scss.active}>Music</NavLink>\r\n      <NavLink to='/settings' activeClassName={scss.active}>Settings</NavLink>\r\n    </nav>\r\n    {/* <Friends state={props.state} /> */}\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import c from './News.module.scss';\r\n\r\nfunction News() {\r\n    return (\r\n        <div>\r\n            Some news.\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;","import DAL from \"api/apiDAL\";\r\n\r\nconst SEND_MESSAGE = \"SEND-MESSAGE\";\r\nconst GET_DIALOGS = \"GET-DIALOGS\";\r\n\r\nconst initialState = {\r\n  userList: [ ],\r\n  messages: [\r\n    {\r\n      id: \"1\",\r\n      text: \"Hello Alina!\",\r\n      timeStamp: \"01.02.2021 22:10\",\r\n    },\r\n    {\r\n      userName: \"Khaiuk Alina\",\r\n      id: \"2\",\r\n      text: \"How are you Max?\",\r\n      timeStamp: \"01.02.2021 22:12\",\r\n    },\r\n    {\r\n      id: \"1\",\r\n      text: \"Thank you, I am fine.\",\r\n      timeStamp: \"01.02.2021 22:12\",\r\n    },\r\n    {\r\n      userName: \"Khaiuk Alina\",\r\n      id: \"2\",\r\n      text: \"Do you want to go for a walk?\",\r\n      timeStamp: \"01.02.2021 22:14\",\r\n    },\r\n    {\r\n      id: \"1\",\r\n      text: \"Sorry, I am busy now, maybe later.\",\r\n      timeStamp: \"01.02.2021 22:15\",\r\n    },\r\n  ],\r\n};\r\n\r\nfunction messagesReducer(state = initialState, action) {\r\n  let newState = {\r\n    ...state,\r\n    userList: [...state.userList],\r\n    messages: [...state.messages],\r\n  };\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      const message = {\r\n        id: \"7\",\r\n        text: action.message,\r\n        timeStamp: action.dateTime,\r\n      };\r\n      newState.messages.push(message);\r\n      return newState;\r\n    case GET_DIALOGS:\r\n      newState.userList = [...action.users];\r\n      return newState;\r\n    default:\r\n      return newState;\r\n  }\r\n}\r\n\r\nfunction getAllDialogsAC(users) {\r\n  return {\r\n    type: GET_DIALOGS,\r\n    users,\r\n  };\r\n}\r\n\r\nexport function sendMessage(message, dateTime) {\r\n  return {\r\n    type: SEND_MESSAGE,\r\n    message,\r\n    dateTime,\r\n  };\r\n}\r\n\r\nexport function getDialogs() {\r\n  return (dispatch) => {\r\n    DAL.messages.getAllDialogs().then((res) => {\r\n      console.log(res);\r\n      dispatch(getAllDialogsAC(res));\r\n    });\r\n  };\r\n}\r\n\r\nexport default messagesReducer;\r\n","export const getUserListSel = (state) => state.messagesPage.userList;\r\n\r\nexport const getMessagesSel = (state) => state.messagesPage.messages;\r\n","import React from \"react\";\r\nimport scss from \"./Message.module.scss\";\r\n\r\nfunction SelfMessage(props) {\r\n  return (\r\n    <div\r\n      className={\r\n        props.self\r\n          ? `${scss.messageWrapper} ${scss.self}`\r\n          : `${scss.messageWrapper} ${scss.anotherUser}`\r\n      }\r\n    >\r\n      <p className={scss.user}>{props.userName ? props.userName : \"You: \"}</p>\r\n      <p className={scss.text}>{props.text}</p>\r\n      <p className={scss.time}>{props.timeStamp}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SelfMessage;\r\n","import scss from \"./Chat.module.scss\";\r\nimport React from \"react\";\r\nimport Message from \"./Message/Message\";\r\nimport { Field, Form } from \"react-final-form\";\r\nimport moment from \"moment\";\r\n\r\nfunction Chat(props) {\r\n  const messages = props.messages.map((message) =>\r\n    message.userName ? (\r\n      <Message\r\n        userName={message.userName}\r\n        text={message.text}\r\n        timeStamp={message.timeStamp}\r\n        self={false}\r\n      />\r\n    ) : (\r\n      <Message text={message.text} timeStamp={message.timeStamp} self={true} />\r\n    )\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <div className={scss.chat}>{messages}</div>\r\n      <ChatInput {...props} />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst ChatInput = (props) => (\r\n  <Form\r\n    onSubmit={(obj, form) => {\r\n      if (obj.message) {\r\n        const timeStamp = moment().format(\"MM.DD.YY, HH:mm:ss\");\r\n        props.sendMessage(obj.message, timeStamp);\r\n        form.reset();\r\n      }\r\n    }}\r\n    render={({ handleSubmit, submitting}) => (\r\n      <form onSubmit={handleSubmit}>\r\n        <div className={scss.inputWindow}>\r\n          <Field\r\n            name=\"message\"\r\n            component=\"input\"\r\n            type=\"text\"\r\n            maxLength={5000}\r\n            placeholder=\"Input your message..\"\r\n            autocomplete=\"off\"\r\n          />\r\n          <button disabled={submitting}>SEND</button>\r\n        </div>\r\n      </form>\r\n    )}\r\n  />\r\n);\r\n\r\nexport default Chat;\r\n","export default __webpack_public_path__ + \"static/media/newMessage.59d9faef.svg\";","import { NavLink } from \"react-router-dom\";\r\nimport scss from \"./User.module.scss\";\r\nimport noAvatar from \"../../../../images/unknown-user.svg\";\r\nimport newMessage from \"../../../../images/newMessage.svg\";\r\nimport React from \"react\";\r\n\r\nfunction User(props) {\r\n  const path = `/toucan/dialogs/${props.id}`;\r\n  return (\r\n    <div className={scss.wrapper}>\r\n      <NavLink to={path} activeClassName={scss.active}>\r\n        <div className={scss.container}>\r\n          <img\r\n            className={scss.avatar}\r\n            src={props.photos.small || props.photos.large || noAvatar}\r\n            alt=\"User avatar\"\r\n          />\r\n          <p>{props.userName}</p>\r\n          {props.hasNewMessages ? (\r\n            <div className={scss.newMessagesWrapper}>\r\n              <img className={scss.newMessage} src={newMessage} />\r\n              <p className={scss.newMessagesCount}>{props.newMessagesCount}</p>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport User from \"./User/User\";\r\nimport c from \"./UserList.module.scss\";\r\n\r\nfunction UserList(props) {\r\n  const users = props.userList.map((user) => (\r\n    <User {...user}/>\r\n  ));\r\n\r\n  return <div className={c.users}>{users};</div>;\r\n}\r\n\r\nexport default UserList;\r\n","import React from \"react\";\r\nimport Chat from \"./Chat/Chat\";\r\nimport scss from \"./Messages.module.scss\";\r\nimport UserList from \"./UserList/UserList\";\r\n\r\nfunction Messages(props) {\r\n  return (\r\n    <div className={scss.chatWrapper}>\r\n      <UserList userList={props.userList} />\r\n      <Chat messages={props.messages} sendMessage={props.sendMessage} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Messages;\r\n","import withAuthRedirect from \"hoc/withAuthRedirect\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { getDialogs, sendMessage } from \"redux/messagesReducer\";\r\nimport { getMessagesSel, getUserListSel } from \"redux/messagesSelectors\";\r\nimport Messages from \"./Messages\";\r\n\r\nclass MessagesContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getDialogs();\r\n  }\r\n  render() {\r\n    return <Messages {...this.props} />;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    userList: getUserListSel(state),\r\n    messages: getMessagesSel(state),\r\n  };\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getDialogs, sendMessage }),\r\n  withAuthRedirect\r\n)(MessagesContainer);\r\n","import { authRequest } from \"./authReducer\";\r\n\r\nconst INITIALIZE = \"INITIALIZE\";\r\n\r\nconst initialState = {\r\n  appReady: false,\r\n};\r\n\r\nfunction appReducer(state = initialState, action) {\r\n  const newState = { ...state };\r\n  switch (action.type) {\r\n    case INITIALIZE:\r\n      newState.appReady = true;\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction initializeCompleted() {\r\n  return {\r\n    type: INITIALIZE,\r\n  };\r\n}\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  dispatch(authRequest()).then(() => dispatch(initializeCompleted()));\r\n};\r\n\r\nexport default appReducer;\r\n","import Loader from \"components/COMMON/Loader/Loader\";\r\nimport React, { Suspense } from \"react\";\r\n\r\nfunction withSuspense(Component, props) {\r\n  return (\r\n    <Suspense fallback={<Loader />}>\r\n      <Component {...props} />\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nexport default withSuspense;\r\n","import React, { Suspense } from \"react\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport \"./App.scss\";\nimport Header from \"./components/Header/Header\";\nimport Music from \"./components/Music/Music\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport News from \"./components/News/News\";\nimport MessagesContainer from \"components/Messages/MessagesContainer\";\nimport { connect } from \"react-redux\";\nimport Loader from \"components/COMMON/Loader/Loader\";\nimport { initializeApp } from \"redux/appReducer\";\nimport withSuspense from \"hoc/withSuspense\";\n\n\nconst UsersContainer = React.lazy(() =>\n  import(\"components/Users/UsersContainer\")\n);\nconst LoginWindow = React.lazy(() =>\n  import(\"components/LoginWindow/LoginWindow\")\n);\nconst ProfileContainer = React.lazy(() =>\n  import(\"components/Profile/ProfileContainer\")\n);\nconst Settings = React.lazy(() => import(\"./components/Settings/Settings\"));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  render() {\n    if (!this.props.appReady) return <Loader />;\n    return (\n      <BrowserRouter basename=\"/toucan/\">\n        <div className=\"app-wrapper\">\n          <Header />\n          <Navbar />\n          <div className=\"app-wrapper-content\">\n            <Route\n              path=\"/profile/:userId?\"\n              render={() => withSuspense(ProfileContainer)}\n            />\n            <Route path=\"/messages\" render={() => <MessagesContainer />} />\n            <Route path=\"/users\" render={() => withSuspense(UsersContainer)} />\n            <Route path=\"/news\" render={() => <News />} />\n            <Route path=\"/music\" render={() => <Music />} />\n            <Route path=\"/settings\" render={() => withSuspense(Settings)} />\n            <Route path=\"/login\" render={() => withSuspense(LoginWindow)} />\n          </div>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    appReady: state.app.appReady,\n  };\n};\n\n\nexport default connect(mapStateToProps, { initializeApp })(App);\n","import profileReducer from \"./profileReducer\";\r\nimport messagesReducer from \"./messagesReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport { combineReducers, createStore } from \"redux\";\r\nimport ReduxThunk from \"redux-thunk\";\r\nimport { applyMiddleware } from \"redux\";\r\nimport appReducer from \"./appReducer\";\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  profilePage: profileReducer,\r\n  messagesPage: messagesReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n}); \r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(ReduxThunk))\r\n);\r\n\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"App\";\nimport store from \"redux/reduxStore\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}