{"version":3,"sources":["components/COMMON/Paginator/Paginator.module.scss","components/COMMON/Paginator/Paginator.jsx","images/envelope.svg","components/Users/Users.jsx","components/Users/UsersContainer.jsx","components/Users/Users.module.scss"],"names":["module","exports","Paginator","totalCount","itemsPerPage","currentPage","loadPage","portionSize","numberOfPages","Math","ceil","numberOfPortions","pages","Array","from","length","v","k","useState","currentPortion","setCurrentPortion","slice","portion","changePortion","useEffect","page","pagesComponents","map","p","i","className","scss","activePage","pageNumber","onClick","controlsArea","controlBtn","User","props","id","users","user","wrapper","avatar","to","photo","src","photos","small","unkownUser","alt","followed","disabled","currentRequests","some","btn","unSubcribe","unSubscribeRequest","subcribe","subscribeRequest","infoWrapper","sendMessage","name","status","Users","usersPerPage","container","changePage","prevPage","inactive","loadPrevPage","usersArea","nextPage","loadNextPage","UsersAPIreq","componentDidMount","getUsers","this","isFetching","Loader","React","Component","compose","connect","state","usersPage"],"mappings":"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","file":"static/js/5.3de9254e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"controlBtn\":\"Paginator_controlBtn__3uvcx\",\"controlsArea\":\"Paginator_controlsArea__1aGqo\",\"pages\":\"Paginator_pages__2qRwX\",\"pageNumber\":\"Paginator_pageNumber__3tJsr\",\"activePage\":\"Paginator_activePage__1O-gD\"};","import React, { useEffect, useState } from \"react\";\r\nimport scss from \"./Paginator.module.scss\";\r\n\r\nfunction Paginator({\r\n  totalCount,\r\n  itemsPerPage,\r\n  currentPage,\r\n  loadPage,\r\n  portionSize = 10,\r\n}) {\r\n  const numberOfPages = Math.ceil(totalCount / itemsPerPage);\r\n  const numberOfPortions = numberOfPages / portionSize;\r\n  const pages = Array.from({ length: numberOfPages }, (v, k) => k + 1);\r\n\r\n  let [currentPortion, setCurrentPortion] = useState(1);\r\n\r\n  const [portion, changePortion] = useState(pages.slice(0, portionSize));\r\n\r\n  useEffect(() => {\r\n    const page = Math.ceil(currentPortion * portionSize);\r\n    changePortion(pages.slice(page - portionSize, page));\r\n  }, [currentPortion]);\r\n\r\n  useEffect(() => {\r\n    changePortion(pages.slice(currentPage - 1, currentPage + portionSize - 1));\r\n    setCurrentPortion(Math.ceil(currentPage / portionSize));\r\n  }, [currentPage]);\r\n\r\n  function nextPage() {\r\n    setCurrentPortion(++currentPortion);\r\n  }\r\n\r\n  function prevPage() {\r\n    setCurrentPortion(--currentPortion);\r\n  }\r\n\r\n  let pagesComponents = portion.map((p, i) => (\r\n    <p\r\n      key={`page${i}`}\r\n      className={currentPage === p ? scss.activePage : scss.pageNumber}\r\n      onClick={() => loadPage(p, currentPage, itemsPerPage)}\r\n    >\r\n      {p}\r\n    </p>\r\n  ));\r\n\r\n  return (\r\n    <div>\r\n      <div className={scss.controlsArea}>\r\n        {currentPortion <= 1 ? null : (\r\n          <button className={scss.controlBtn} onClick={() => prevPage()}>\r\n            PREV\r\n          </button>\r\n        )}\r\n        <div className={scss.pages}>{pagesComponents}</div>\r\n        {currentPortion >= numberOfPortions ? null : (\r\n          <button\r\n            className={scss.controlBtn}\r\n            onClick={() => {\r\n              nextPage();\r\n            }}\r\n          >\r\n            NEXT\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Paginator;\r\n","export default __webpack_public_path__ + \"static/media/envelope.37a8a78e.svg\";","import React from \"react\";\r\nimport scss from \"./Users.module.scss\";\r\nimport unkownUser from \"../../images/unknown-user.svg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Paginator from \"components/COMMON/Paginator/Paginator\";\r\nimport sendMessage from \"../../images/envelope.svg\";\r\n\r\nfunction Users(props) {\r\n\r\n  return (\r\n    <div>\r\n      {props.totalCount ? (\r\n        <Paginator\r\n          totalCount={props.totalCount}\r\n          itemsPerPage={props.usersPerPage}\r\n          currentPage={props.currentPage}\r\n          loadPage={props.loadPage}\r\n        />\r\n      ) : null}\r\n\r\n      <div className={scss.container}>\r\n        <button\r\n          className={\r\n            props.currentPage > 1\r\n              ? `${scss.changePage} ${scss.prevPage}`\r\n              : `${scss.changePage} ${scss.prevPage} ${scss.inactive}`\r\n          }\r\n          onClick={() =>\r\n            props.loadPrevPage(props.currentPage, props.usersPerPage)\r\n          }\r\n        >\r\n          &laquo;\r\n        </button>\r\n        <div className={scss.usersArea}>\r\n          <User\r\n            users={props.users}\r\n            subscribeRequest={props.subscribeRequest}\r\n            unSubscribeRequest={props.unSubscribeRequest}\r\n            currentRequests={props.currentRequests}\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          className={\r\n            props.currentPage >= props.totalCount / props.usersPerPage\r\n              ? `${scss.changePage} ${scss.nextPage} ${scss.inactive}`\r\n              : `${scss.changePage} ${scss.nextPage}`\r\n          }\r\n          onClick={() =>\r\n            props.loadNextPage(\r\n              props.totalCount,\r\n              props.usersPerPage,\r\n              props.currentPage\r\n            )\r\n          }\r\n        >\r\n          &raquo;\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction User(props) {\r\n    const path = `/messages/${props.id}`;\r\n  return props.users.map((user) => (\r\n    <div className={scss.wrapper} key={user.id}>\r\n      <div className={scss.avatar}>\r\n        <NavLink to={`profile/${user.id}`}>\r\n          <img\r\n            className={scss.photo}\r\n            src={user.photos.small ? user.photos.small : unkownUser}\r\n            alt=\"user avatar\"\r\n          />\r\n        </NavLink>\r\n\r\n        {user.followed ? (\r\n          <button\r\n            disabled={props.currentRequests.some((id) => id === user.id)}\r\n            className={`${scss.btn} ${scss.unSubcribe}`}\r\n            onClick={() => {\r\n              props.unSubscribeRequest(user.id);\r\n            }}\r\n          >\r\n            UNSUBSCRIBE\r\n          </button>\r\n        ) : (\r\n          <button\r\n            disabled={props.currentRequests.some((id) => id === user.id)}\r\n            className={`${scss.btn} ${scss.subcribe}`}\r\n            onClick={() => {\r\n              props.subscribeRequest(user.id);\r\n            }}\r\n          >\r\n            SUBSCRIBE\r\n          </button>\r\n        )}\r\n      </div>\r\n      <div className={scss.infoWrapper}>\r\n        <NavLink to={`messages/${user.id}`} className={scss.sendMessage}>\r\n          <img src={sendMessage} alt=\"send message\" />\r\n        </NavLink>\r\n        <p className={scss.name}>{user.name}</p>\r\n\r\n        {user.status ? (\r\n          <p className={scss.status}>Status: {user.status}</p>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  ));\r\n}\r\n\r\nexport default Users;\r\n","import Loader from \"components/COMMON/Loader/Loader\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  getUsers,\r\n  loadPage,\r\n  loadNextPage,\r\n  loadPrevPage,\r\n  subscribeRequest,\r\n  unSubscribeRequest,\r\n} from \"redux/usersReducer\";\r\nimport Users from \"./Users\";\r\n\r\nclass UsersAPIreq extends React.Component {\r\n  componentDidMount = () => {\r\n    this.props.getUsers(this.props.currentPage, this.props.usersPerPage);\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Loader /> : null}\r\n        <Users {...this.props} users={this.props.users} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    users: state.usersPage.users,\r\n    currentPage: state.usersPage.currentPage,\r\n    totalCount: state.usersPage.totalCount,\r\n    usersPerPage: state.usersPage.usersPerPage,\r\n    isFetching: state.usersPage.isFetching,\r\n    currentRequests: state.usersPage.currentRequests,\r\n  };\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    getUsers,\r\n    loadPage,\r\n    loadNextPage,\r\n    loadPrevPage,\r\n    subscribeRequest,\r\n    unSubscribeRequest,\r\n  })\r\n)(UsersAPIreq);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Users_container__iuwYM\",\"changePage\":\"Users_changePage__YkKaG\",\"prevPage\":\"Users_prevPage__xwxAh\",\"nextPage\":\"Users_nextPage__Y1DQT\",\"inactive\":\"Users_inactive__hveiX\",\"usersArea\":\"Users_usersArea__15cQa\",\"wrapper\":\"Users_wrapper__2_7qC\",\"avatar\":\"Users_avatar__qQIPI\",\"photo\":\"Users_photo__3uU2C\",\"btn\":\"Users_btn__2Hsx5\",\"loading\":\"Users_loading__3TNnf\",\"subcribe\":\"Users_subcribe__1z8kQ\",\"unSubcribe\":\"Users_unSubcribe__7r4HU\",\"infoWrapper\":\"Users_infoWrapper__T-b-2\",\"name\":\"Users_name__Y6pTf\",\"status\":\"Users_status__y2RXZ\",\"sendMessage\":\"Users_sendMessage__2e19r\"};"],"sourceRoot":""}